var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function p(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function q(a){if(!(a instanceof Array)){a=p(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var fa={xa:!0},ia={};try{ia.__proto__=fa;da=ia.xa;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ja=ca;
function v(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ja)ja(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.za=b.prototype}
function la(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
var ma="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},na="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function oa(a,b){if(b){var c=na;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ma(c,a,{configurable:!0,writable:!0,value:b})}}
oa("String.prototype.repeat",function(a){return a?a:function(a){var b=la(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}});oa("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});
oa("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}});oa("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==la(this,a,"includes").indexOf(a,c||0)}});
oa("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=la(this,a,"startsWith"),e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<f&&c<e;)if(b[c++]!=a[h++])return!1;return h>=f}});oa("String.prototype.endsWith",function(a){return a?a:function(a,c){var b=la(this,a,"endsWith");void 0===c&&(c=b.length);c=Math.max(0,Math.min(c|0,b.length));for(var e=a.length;0<e&&0<c;)if(b[--c]!=a[--e])return!1;return 0>=e}});
oa("String.fromCodePoint",function(a){return a?a:function(a){for(var b="",d=0;d<arguments.length;d++){var e=Number(arguments[d]);if(0>e||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?b+=String.fromCharCode(e):(e-=65536,b+=String.fromCharCode(e>>>10&1023|55296),b+=String.fromCharCode(e&1023|56320))}return b}});
oa("String.prototype.padStart",function(a){return a?a:function(a,c){var b=la(this,null,"padStart");a-=b.length;c=void 0!==c?String(c):" ";return(0<a&&c?c.repeat(Math.ceil(a/c.length)).substring(0,a):"")+b}});oa("String.prototype.codePointAt",function(a){return a?a:function(a){var b=la(this,null,"codePointAt"),d=b.length;a=Number(a)||0;if(0<=a&&a<d){a|=0;var e=b.charCodeAt(a);if(55296>e||56319<e||a+1===d)return e;a=b.charCodeAt(a+1);return 56320>a||57343<a?e:1024*(e-55296)+a+9216}}});
function pa(){pa=function(){};na.Symbol||(na.Symbol=qa)}var qa=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();function ta(){pa();var a=na.Symbol.iterator;a||(a=na.Symbol.iterator=na.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ma(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ua(aa(this))}});ta=function(){}}function ua(a){ta();a={next:a};a[na.Symbol.iterator]=function(){return this};return a}
function va(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
oa("WeakMap",function(a){function b(a){this.a=(h+=Math.random()+1).toString();if(a){a=p(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(){}function d(a){va(a,f)||ma(a,f,{value:new c})}function e(a){var b=Object[a];b&&(Object[a]=function(a){if(a instanceof c)return a;d(a);return b(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==
d.get(c)}catch(y){return!1}}())return a;var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var h=0;b.prototype.set=function(a,b){d(a);if(!va(a,f))throw Error("WeakMap key fail: "+a);a[f][this.a]=b;return this};b.prototype.get=function(a){return va(a,f)?a[f][this.a]:void 0};b.prototype.has=function(a){return va(a,f)&&va(a[f],this.a)};b.prototype.delete=function(a){return va(a,f)&&va(a[f],this.a)?delete a[f][this.a]:!1};return b});
oa("Map",function(a){function b(){var a={};return a.P=a.next=a.head=a}function c(a,b){var c=a.a;return ua(function(){if(c){for(;c.head!=a.a;)c=c.P;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})}function d(a,b){var c=b&&typeof b;"object"==c||"function"==c?f.has(b)?c=f.get(b):(c=""+ ++h,f.set(b,c)):c="p_"+b;var d=a.f[c];if(d&&va(a.f,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==e.key||b===e.key)return{id:c,list:d,index:a,B:e}}return{id:c,list:d,
index:-1,B:void 0}}function e(a){this.f={};this.a=b();this.size=0;if(a){a=p(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(p([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||
"t"!=e.value[1]||!d.next().done?!1:!0}catch(B){return!1}}())return a;ta();var f=new WeakMap;e.prototype.set=function(a,b){a=0===a?0:a;var c=d(this,a);c.list||(c.list=this.f[c.id]=[]);c.B?c.B.value=b:(c.B={next:this.a,P:this.a.P,head:this.a,key:a,value:b},c.list.push(c.B),this.a.P.next=c.B,this.a.P=c.B,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.B&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.f[a.id],a.B.P.next=a.B.next,a.B.next.P=a.B.P,a.B.head=null,
this.size--,!0):!1};e.prototype.clear=function(){this.f={};this.a=this.a.P=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).B};e.prototype.get=function(a){return(a=d(this,a).B)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=
d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var h=0;return e});
oa("Set",function(a){function b(a){this.a=new Map;if(a){a=p(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.a.size}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(p([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=b||f.value[1]!=b)return!1;f=e.next();return f.done||f.value[0]==b||4!=f.value[0].x||
f.value[1]!=f.value[0]?!1:e.next().done}catch(h){return!1}}())return a;ta();b.prototype.add=function(a){a=0===a?0:a;this.a.set(a,a);this.size=this.a.size;return this};b.prototype.delete=function(a){a=this.a.delete(a);this.size=this.a.size;return a};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(a){return this.a.has(a)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;
b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.a.forEach(function(d){return a.call(b,d,d,c)})};return b});
function z(a){var b;a.hasAttribute("mark")&&(b=a.getAttribute("mark"));a.hasAttribute("tmark")&&(b=a.getAttribute("tmark"));switch(a.nodeName){case "prolog":return new wa(new xa(a.firstElementChild.getAttribute("string")),[]);case "version":return new xa(a.getAttribute("string"));case "pragma":return ya(a);case "ppragma":b=new za(a.getAttribute("pname"),null);a=p(a.children);for(var c=a.next();!c.done;c=a.next())b.data=z(c.value);return b;case "pragma-data":return new Aa(a.textContent);case "metadata":b=
new Ba(a.getAttribute("name"),[]);if(0<a.childElementCount)for(a=p(a.children),c=a.next();!c.done;c=a.next())b.a.push(z(c.value));else b.value=a.textContent;return b;case "field":return new Ca(a.getAttribute("name"),a.textContent);case "rule":b=new A(a.getAttribute("name"),Da(a.children),b);a=p(a.children);for(c=a.next();!c.done;c=a.next())c=c.value,"pragma"==c.localName&&b.i.push(ya(c)),"comment"==c.localName&&b.i.push(Ea(c));return b;case "alts":return Da(a.children);case "subtraction":b=new C;
a=p(a.children);for(c=a.next();!c.done;c=a.next())b.add(z(c.value));return b;case "alt":b=new D;a=p(a.children);for(c=a.next();!c.done;c=a.next())b.add(z(c.value));return b;case "comment":return Ea(a);case "literal":return a.hasAttribute("string")?a=new F(a.getAttribute("string"),b,'"'):a.hasAttribute("hex")?(a=a.getAttribute("hex"),/^[A-Fa-f0-9]+$/.test(a)||G("literal/@hex in the XML syntax must be a valid hexadecimal number. Provided:'"+a+"'","S06"),a=new Fa(a,b)):(G("<literal/> in the XML syntax must have one of @string|@hex"),
a=void 0),a;case "insertion":return a.hasAttribute("string")?a=new H(a.getAttribute("string"),!1):a.hasAttribute("hex")?a=new H(a.getAttribute("hex"),!0):(G("<insertion/> in the XML syntax must have one of @string|@hex"),a=void 0),a;case "inclusion":return Ha(a,!1,b);case "exclusion":return Ha(a,!0,b);case "member":return Ia(a);case "nonterminal":return new J(a.getAttribute("name"),b);case "option":return new Ja(z(a.firstElementChild),b);case "repeat0":return b=new Ka(z(a.firstElementChild),b),2==
a.children.length&&La(b,z(a.children[1])),b;case "repeat1":return b=new Ma(z(a.firstElementChild),b),2==a.children.length&&La(b,z(a.children[1])),b;case "sep":return new Na(z(a.firstElementChild),b);default:G("Unknown element in ixml tree:"+a.nodeName)}}function wa(a,b){this.version=a;this.a=[];this.f=b}
wa.prototype.c=function(a,b){var c=a.ownerDocument.createElement("prolog");this.version&&this.version.c(c,b);this.a.forEach(function(a){return a.c(c,b)});this.f.forEach(function(a){return a.c(c,b)});a.append(c)};wa.prototype.flat=function(){var a="";this.version&&(a+=this.version.flat());this.a.forEach(function(b){return a+="\n"+b.flat()});this.f.forEach(function(b){return a+="\n"+b.flat()});return a+="\n"};function xa(a){this.version=a;this.a=[]}
xa.prototype.c=function(a,b){var c=a.ownerDocument.createElement("version");c.setAttribute("string",this.version);a.append(c);this.a.forEach(function(a){return a.c(c,b)})};xa.prototype.flat=function(){return'ixml version "'+this.version+'".'};function Ba(a,b){this.name=a;this.a=b;this.value=null}Ba.prototype.c=function(a,b){var c=a.ownerDocument.createElement("metadata");c.setAttribute("name",this.name);a.append(c);this.value?c.textContent=this.value:this.a.forEach(function(a){return a.c(c,b)})};
Ba.prototype.flat=function(){return this.value?this.name+" "+Oa(this.value,'"')+".":this.name+this.a.map(function(a){return a.flat()}).join(",\n"+" ".repeat(this.name.length))+"."};function Ca(a,b){this.name=a;this.value=b}Ca.prototype.c=function(a){var b=a.ownerDocument.createElement("field");b.setAttribute("name",this.name);b.textContent=this.value;a.append(b)};Ca.prototype.flat=function(){return" "+this.name+":"+Oa(this.value,'"')};function Pa(a,b){this.M=a;this.data=b}
function ya(a){var b=new Pa(a.getAttribute("pname"),null);a=p(a.children);for(var c=a.next();!c.done;c=a.next())b.data=z(c.value);return b}Pa.prototype.c=function(a,b){var c=a.ownerDocument.createElement("pragma");c.setAttribute("pname",this.M);this.data&&this.data.c(c,b);a.append(c)};Pa.prototype.flat=function(){var a="{["+this.M;this.data&&(a+=" "+this.data.flat());return a+"]}"};function za(a,b){Pa.call(this,a,b)}v(za,Pa);
za.prototype.c=function(a,b){var c=a.ownerDocument.createElement("ppragma");c.setAttribute("pname",this.M);this.data&&this.data.c(c,b);a.append(c)};za.prototype.flat=function(){var a="{[+"+this.M;this.data&&(a+=" "+this.data.flat());return a+"]}"};function Aa(a){this.data=a}Aa.prototype.c=function(a){var b=a.ownerDocument.createElement("pragma-data");b.textContent=this.data;a.append(b)};Aa.prototype.flat=function(){return this.data};function K(a){this.mark=a;this.f=[];this.O=!1;this.type=null}
K.prototype.flat=function(a){return this.mark?this.mark:void 0===a?"":a};K.prototype.c=function(a,b){this.mark&&a.setAttribute("mark",this.mark);this.type&&b.debug&&a.setAttribute("type",this.type)};function Qa(a){var b="";a.f.forEach(function(a){return b+=a.flat()});return b}function M(a,b){this.name=a;this.J=b;this.i=[]}M.prototype.c=function(a,b){a.setAttribute("name",this.name);this.J&&a.setAttribute("alias",this.J);this.i.forEach(function(c){return c.c(a,b)})};
M.prototype.flat=function(){var a=this.name;this.J&&(a+=">"+this.J);0<this.i.length&&(a+=" ",this.i.forEach(function(b){return a+=b.flat()}));return a};M.prototype.value=function(){return this.J?this.J:this.name};function A(a,b,c){K.call(this,c);this.name=a;this.definition=b;this.definition.m+=" ";this.definition.ha=!1;this.i=[];this.f=[];this.a=[];this.v=this.lineNumber=null}v(A,K);A.prototype.V=function(a){this.f.push(a)};
A.prototype.c=function(a,b){var c=a.ownerDocument.createElement("rule");K.prototype.c.call(this,c,b);this.name instanceof M?this.name.c(c,b):c.setAttribute("name",this.name);this.O&&c.setAttributeNS("http://invisiblexml.org/NS","ixml:artifact","true");this.i.forEach(function(a){return a.c(c,b)});this.a.forEach(function(a){return a.c(c,b)});this.f.forEach(function(a){return a.c(c,b)});a.append(c);a=p(this.definition.s);for(var d=a.next();!d.done;d=a.next())d.value.c(c,b)};A.prototype.A=function(a){this.definition.A(a)};
function Ra(a){var b=a.name instanceof M?a.name.flat().length:a.name.length;a.i.forEach(function(a){return b+=a.flat().length});return b}
A.prototype.flat=function(a){var b="\n"+" ".repeat(a-Ra(this));this.i.forEach(function(a){return b+=a.flat()});this.a.forEach(function(a){return b+=a.flat()});b+=K.prototype.flat.call(this," ")+(this.name instanceof M?this.name.flat():this.name)+": ";this.f.forEach(function(a){return b+=a.flat()});var c=this.definition.flat();(this.definition.m.includes("|")||50<c.length)&&!this.definition.m.includes("\n")&&(this.definition.m=" "+this.definition.m+"\n"+" ".repeat(a+3));return b+this.definition.flat()+
". "};function Sa(a){this.b=a}function Ea(a){var b=[];a=p(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c instanceof Element?b.push(Ea(c)):b.push(c.textContent);return new Sa(b)}Sa.prototype.c=function(a,b){var c=a.ownerDocument.createElement("comment");this.b.forEach(function(a){a instanceof Sa?a.c(c,b):c.append(new Text(a))});a.append(c)};Sa.prototype.flat=function(){var a="{";this.b.forEach(function(b){a=b instanceof Sa?a+b.flat():a+b});return a+"}"};
function Ta(a){K.call(this,a);this.m=this.a=null;this.b=[];this.s=[];this.ha=!1}v(Ta,K);g=Ta.prototype;g.add=function(a){this.b.push(a);this.s.push(a)};g.unshift=function(a){this.b.unshift(a);this.s.unshift(a)};g.V=function(a){this.s.push(a)};function Ua(a,b,c){var d=a.b.indexOf(b);a.b.splice.apply(a.b,[d,1].concat(q(c)));d=a.s.indexOf(b);a.s.splice.apply(a.s,[d,1].concat(q(c)))}g.replace=function(a,b){var c=this.b.indexOf(a);this.b[c]=b;c=this.s.indexOf(a);this.s[c]=b};
g.A=function(a,b){var c=this;a(this,b);this.b.forEach(function(b){return b.A(a,c)})};g.display=function(){return"container"};g.c=function(a,b){var c=a.ownerDocument.createElement(this.a);a.append(c);a=p(this.s);for(var d=a.next();!d.done;d=a.next())d.value.c(c,b)};g.flat=function(){var a=this;if(1==this.b.length)return this.b[0].flat();var b="";this.s.forEach(function(c,d){b+=c.flat();!(c instanceof Sa)&&d<a.s.length-1&&(b+=a.m)});return this.ha?"("+b+")":b};
function P(){Ta.call(this,null);this.a="alts";this.m="|";this.ha=!0;this.v=this.lineNumber=null}v(P,Ta);function Da(a){var b=new P;a=p(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;if("alt"==d.localName){c=new D;b.add(c);d=p(d.children);for(var e=d.next();!e.done;e=d.next())c.add(z(e.value))}}return b}P.prototype.display=function(){return"()"};function D(){Ta.call(this,null);this.a="alt";this.m=",";this.ha=!1}v(D,Ta);function Va(){P.call(this);this.add(new D)}v(Va,P);
Va.prototype.c=function(a,b){this.b[0].c(a,b)};function C(){Ta.call(this,null);this.a="subtraction";this.m=" \u00ac ";this.ha=!1}v(C,Ta);C.prototype.display=function(){return this.b.map(function(a){return a.display()}).join(this.m)};function Q(a,b){K.call(this,b);this.o=a;this.m=null;this.a="";this.f=[];this.F=this.v=this.lineNumber=this.w=this.h=null}v(Q,K);function La(a,b){a.m=b;a.a+="-sep"}g=Q.prototype;g.replace=function(a,b){this.o===a&&(this.o=b)};g.L=function(){return[]};
g.sa=function(a){return this.L(a,void 0)};g.V=function(a){this.f.push(a)};function Wa(a,b,c){if((void 0===c||c)&&a.o instanceof J&&!a.m)return a.o.u;if(a.h)return a.h+"_"+b;a.h=a.o instanceof J?a.o.u:"Mult";return a.h+"_"+b}g.A=function(a,b){a(this,b);this.o.A(a,this);this.m&&this.m.A(a,this)};g.c=function(a,b){var c=a;c=a.ownerDocument.createElement(this.w);a.append(c);this.o.c(c,b);this.f.forEach(function(a){return a.c(c,b)});this.m&&this.m.c(c,b)};
g.flat=function(a){var b=this.o.flat();!(this.o instanceof P)||b.startsWith("(")&&b.endsWith(")")||(b="("+b+")");b+=a;this.m?(b+=a,this.f.forEach(function(a){return b+=a.flat()}),b+=this.m.flat()):this.f.forEach(function(a){return b+=a.flat()});return b};function Xa(a,b){var c=new P;if(a.o instanceof P)a.o.b.forEach(function(a){d=new D;a.b.forEach(function(a){return d.add(a)});d.add(new J(b,null));c.add(d)});else{var d=new D;d.add(a.o);d.add(new J(b,null));c.add(d)}return c}
function Ja(a,b){Q.call(this,a,b);this.F="?";this.w="option";this.a="-option"}v(Ja,Q);Ja.prototype.L=function(a,b){a=(b?b:Wa(this,a))+this.a;var c=new P;this.o instanceof P?this.o.b.forEach(function(a){return c.add(a)}):(b=new D,b.add(this.o),c.add(b));b=new D;b.add(new Va);c.add(b);a=new A(a,c,"-");a.O=!0;return[a]};Ja.prototype.flat=function(){return Q.prototype.flat.call(this,"?")};function Ka(a,b){Q.call(this,a,b);this.F="*";this.w="repeat0";this.a="-star"}v(Ka,Q);
Ka.prototype.sa=function(a){return this.m?Ya(this,a):this.L(a)};Ka.prototype.L=function(a){if(this.m)return Ya(this,a);a=Wa(this,a)+this.a;var b=Xa(this,a),c=new D;c.add(new Va);b.add(c);a=new A(a,b,"-");a.O=!0;return[a]};function Ya(a,b){Wa(a,b);var c=Wa(a,b)+"-plus";Wa(a,b);var d=new Ma(a.o,null);d.m=a.m;c=new Ja(new J(c,null),null);c.a="-star-sep";var e=c.L(b,Wa(a,b));d.L(b).forEach(function(a){return e.push(a)});return e}Ka.prototype.flat=function(){return Q.prototype.flat.call(this,"*")};
function Ma(a,b){Q.call(this,a,b);this.F="+";this.w="repeat1";this.a="-plus"}v(Ma,Q);Ma.prototype.sa=function(a){a=Wa(this,a)+this.a;var b=this.m,c=new P,d=new D;d.add(this.o);b&&d.add(b.o);d.add(new J(a,null));c.add(d);b=new D;b.add(this.o);c.unshift(b);a=new A(a,c,"-");a.O=!0;return[a]};
Ma.prototype.L=function(a){if(this.m){var b=Wa(this,a)+this.a,c=Wa(this,a,!1)+"-star";c=Xa(this,c);var d=new P,e=new D;e.add(this.m.o);e.add(this.o);d.add(e);d=new Ka(d,null);d.h=this.h;a=d.L(a);b=new A(b,c,"-");b.O=!0;a.unshift(b);return a}b=Wa(this,a)+this.a;c=Wa(this,a)+"-star";c=Xa(this,c);a=(new Ka(this.o,null)).L(a);b=new A(b,c,"-");b.O=!0;a.unshift(b);return a};Ma.prototype.flat=function(){return Q.prototype.flat.call(this,"+")};
function Na(a,b){Q.call(this,a,b);this.w="sep";this.a="-sep"}v(Na,Q);Na.prototype.flat=function(){var a=this.o.flat();this.o instanceof P&&!a.startsWith("(")&&(a="("+a+")");return a};function R(a){K.call(this,a);this.i=[];this.v=this.lineNumber=this.G=this.pattern=this.a=this.G=null}v(R,K);g=R.prototype;g.c=function(a,b){this.mark&&a.setAttribute("tmark",this.mark);this.type&&b.debug&&a.setAttribute("type",this.type);this.i.forEach(function(c){return c.c(a,b)})};g.V=function(a){this.i.push(a)};
g.A=function(a,b){a(this,b)};g.matches=function(){return!1};g.flat=function(){var a="";this.i.forEach(function(b){a+=b.flat()});return a+K.prototype.flat.call(this)};function Za(a,b,c){c.debug&&(a.pattern&&b.setAttribute("pattern",a.pattern),a.G&&b.setAttribute("regEx",a.G),a.a&&b.setAttribute("occurrence",a.a))}function J(a,b){K.call(this,b);this.name=a;this.u=a instanceof M?a.name:a;this.b=[];this.i=[]}v(J,K);g=J.prototype;g.A=function(a,b){a(this,b)};
g.display=function(){return K.prototype.flat.call(this)+this.u};g.c=function(a,b){var c=a.ownerDocument.createElement("nonterminal");K.prototype.c.call(this,c,b);this.name instanceof M?this.name.c(c,b):c.setAttribute("name",this.u);a.append(c);this.i.forEach(function(a){return a.c(c,b)})};g.flat=function(){var a="";this.i.forEach(function(b){a+=b.flat()});return a+K.prototype.flat.call(this)+(this.name instanceof M?this.name.flat():this.u)};g.V=function(a){this.f.push(a)};
function H(a,b){this.a=b;this.text=a;this.value=b?String.fromCodePoint(parseInt(a,16)):a}H.prototype.A=function(a,b){a(this,b)};H.prototype.display=function(){return"+"+(this.a?"#"+this.text:'"'+this.value.replaceAll('"','""')+'"')};H.prototype.c=function(a){var b=a.ownerDocument.createElement("insertion");b.setAttribute(this.a?"hex":"string",this.text);a.append(b)};H.prototype.flat=function(){return this.display()};function Oa(a,b){return b+a.replaceAll(b,b+b)+b}
function F(a,b,c){R.call(this,b);this.value=a;this.ea=c;this.pattern=a.replaceAll(/(\?|\+|\*|\.|\|)/g,"\\$1");a.match(/^\s+$/)&&(this.type="WS")}v(F,R);F.prototype.matches=function(a){return this.value==a};F.prototype.display=function(){return R.prototype.flat.call(this)+'"'+this.value.replaceAll('"','""')+'"'+(this.a?this.a:"")};F.prototype.c=function(a,b){var c=a.ownerDocument.createElement("literal");R.prototype.c.call(this,c,b);c.setAttribute("string",this.value);Za(this,c,b);a.append(c)};
F.prototype.flat=function(){return R.prototype.flat.call(this)+Oa(this.value,this.ea)+(this.a?this.a:"")+Qa(this)};function Fa(a,b){R.call(this,b);this.text=a;this.h=parseInt(a,16);try{this.value=String.fromCodePoint(this.h)}catch(c){G("encoded character is not a valid Unicode point. Provided:'"+a+"'","S06")}this.pattern="\\u"+a.padStart(4,"0")}v(Fa,R);Fa.prototype.matches=function(a){return this.h==a.codePointAt(0)};
Fa.prototype.c=function(a,b){var c=a.ownerDocument.createElement("literal");R.prototype.c.call(this,c,b);c.setAttribute("hex",this.text);Za(this,c,b);a.append(c)};Fa.prototype.display=function(){return R.prototype.flat.call(this)+"#"+this.text};Fa.prototype.flat=function(){return R.prototype.flat.call(this)+"#"+this.text+Qa(this)};function T(a){R.call(this,a);this.b=[];this.s=[];this.h="charset";this.pattern=null}v(T,R);
function Ha(a,b,c){b=b?new $a(c):new ab(c);a=p(a.children);for(c=a.next();!c.done;c=a.next())b.add(z(c.value));return b}g=T.prototype;g.add=function(a){this.b.push(a);this.s.push(a);this.pattern?this.pattern+=a.pattern:this.pattern=a.pattern};g.V=function(a){this.s.push(a)};g.A=function(a,b){var c=this;a(this,b);this.b.forEach(function(b){return b.A(a,c)})};
g.c=function(a,b){var c=a.ownerDocument.createElement(this.h);R.prototype.c.call(this,c,b);Za(this,c,b);a.append(c);a=p(this.s);for(var d=a.next();!d.done;d=a.next())d.value.c(c,b)};g.matches=function(a){for(var b=p(this.b),c=b.next();!c.done;c=b.next())if(c.value.matches(a))return!0;return!1};g.display=function(){return"["+this.b.map(function(a){return a.display()}).join(";")+"]"};
g.flat=function(){var a=this,b=R.prototype.flat.call(this)+("exclusion"==this.h?"~":"")+"[";this.s.forEach(function(c,d){b+=c.flat();!(c instanceof Sa)&&d<a.s.length-1&&(b+=";")});return b+="]"+Qa(this)};function ab(a){T.call(this,a);this.h="inclusion"}v(ab,T);function $a(a){T.call(this,a);this.h="exclusion"}v($a,T);$a.prototype.matches=function(a){return!T.prototype.matches.call(this,a)};$a.prototype.display=function(){return"~"+T.prototype.display.call(this)};
function U(){this.f=[];this.pattern=this.a=this.value=null}
function Ia(a){if(a.hasAttribute("string"))return new bb(a.getAttribute("string"));if(a.hasAttribute("hex"))return new cb(a.getAttribute("hex"));if(a.hasAttribute("code"))return new db(a.getAttribute("code"));if(a.hasAttribute("from")){var b=a.getAttribute("from");a=a.getAttribute("to");return new eb("#"==b[0]?new cb(b.substring(1)):new bb(b),"#"==a[0]?new cb(a.substring(1)):new bb(a))}G("<member/> in XML syntax must have one of @string|@hex|@code|(@from,@to)")}g=U.prototype;
g.A=function(a,b){a(this,b)};g.display=function(){return this.value};g.V=function(a){this.f.push(a)};g.c=function(a,b){var c=a.ownerDocument.createElement("member");c.setAttribute(this.a,this.value);b.debug&&this.pattern&&c.setAttribute("pattern",this.pattern);a.append(c);this.f.forEach(function(a){return a.c(c,b)})};g.flat=function(){return this.f.map(function(a){return a.flat()}).join("")};function bb(a,b){b=void 0===b?'"':b;U.call(this);this.value=a;this.a="string";this.ea=b;this.pattern=a}
v(bb,U);bb.prototype.qa=function(){return this.value.codePointAt(0)};bb.prototype.matches=function(a){return this.value.includes(a)};bb.prototype.flat=function(){return Oa(this.value,this.ea)+U.prototype.flat.call(this)};bb.prototype.ta=function(){return this.value};function cb(a){U.call(this);this.value=a;this.h=parseInt(a,16);this.a="hex";this.pattern="\\u"+a.padStart(4,"0")}v(cb,U);g=cb.prototype;g.qa=function(){return this.h};g.matches=function(a){return this.h==a.codePointAt(0)};g.display=function(){return this.flat()};
g.flat=function(){return"#"+this.value+U.prototype.flat.call(this)};g.ta=function(){return"#"+this.value};function eb(a,b){U.call(this);(a instanceof bb&&1!=a.value.length||b instanceof bb&&1!=b.value.length)&&G("The start and end of a charset range must each be exactly one character","S09");this.w=a;this.ca=b;this.h=a.qa();this.F=b.qa();this.F<=this.h&&G("The start character of a charset range must have a code point value less than that of the end","S09");this.pattern=a.pattern+"-"+b.pattern}
v(eb,U);eb.prototype.matches=function(a){a=a.codePointAt(0);return this.h<=a&&a<=this.F};eb.prototype.display=function(){return this.flat()};eb.prototype.c=function(a,b){var c=a.ownerDocument.createElement("member");c.setAttribute("from",this.w.ta());c.setAttribute("to",this.ca.ta());b.debug&&this.pattern&&c.setAttribute("pattern",this.pattern);this.f.forEach(function(a){return a.c(c,b)});a.append(c)};eb.prototype.flat=function(){return this.w.flat()+"-"+this.ca.flat()+U.prototype.flat.call(this)};
function db(a){U.call(this);this.value=a;try{this.h=new RegExp("\\p{"+a+"}","u")}catch(b){G("'"+a+"' is not a valid Unicode character class","S10")}this.pattern="\\p{"+a+"}";this.a="code"}v(db,U);db.prototype.matches=function(a){return this.h.test(a)};db.prototype.flat=function(){return this.value+U.prototype.flat.call(this)};var fb=["1.0","1.1"];function gb(a,b){var c=Error.call(this);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.name="RequireError";this.message=void 0===a?"Require content error":a;this.code=void 0===b?"FORG0001":b}v(gb,Error);gb.prototype.toString=function(){return this.name+":"+this.message+"; code:"+this.code};
function hb(a,b,c,d,e,f){this.name=a;this.S=null;this.ended=c>=d.length;this.origin=b;this.position=c;this.l=0;this.oa=null;this.b=d;this.index=0;this.ka=e;this.fa=f;this.source=this.right=this.left=null;this.W=this.a=!1}g=hb.prototype;g.K=function(){var a=new hb(this.name,this.origin,this.position+1,this.b,this.ka,this.fa);a.l=this.l;a.S=this.S;return a};function ib(a,b,c){if(null==c||void 0==c)c=b.position;return a.name==b.name&&a.ka==b.ka&&a.position==c&&a.origin==b.origin}
function V(a){return a.b[a.position-1]}function W(a){return a.b[a.position]}function jb(a){return a.b[a.position]instanceof R||a.b[a.position]instanceof H}g.matches=function(a){var b=this.b[this.position];return b instanceof R&&b.matches(a)};g.ma=function(a){var b=this.b[this.position];return b instanceof J&&a.includes(b.u)||b instanceof C&&(a.includes(b.b[0].u)||a.includes(b.b[1].u))};function kb(a){return a.position>=a.b.length}function X(a,b,c,d,e){a.source=new nb(b,c,d,e)}
g.display=function(a){var b=this,c="("+this.index+")"+" ".repeat(void 0===a?0:a);c+=this.name+"\u2192";this.b.forEach(function(a,e){c+=(e==b.position?"\u25cf":"")+a.display()+(e<b.b.length-1?",":"")});this.position>=this.b.length&&(c+="\u25cf");return c};
g.c=function(a){function b(b){d=a.ownerDocument.createElement("td");var e=a.ownerDocument.createElement("pre");var h="description sppf";b instanceof ob&&(h+=" derivation");e.setAttribute("class",h);b&&e.append(new Text(b.display()));d.append(e);c.append(d)}var c=a.ownerDocument.createElement("tr");this.a&&c.setAttribute("class","used");0==this.origin&&kb(this)&&c.setAttribute("class",this.a?"finished used":"finished");a.append(c);var d=a.ownerDocument.createElement("td");d.append(new Text(""+this.index));
c.append(d);d=a.ownerDocument.createElement("td");d.append(new Text(this.ka));c.append(d);d=a.ownerDocument.createElement("td");d.append(new Text(""+this.l));c.append(d);d=a.ownerDocument.createElement("td");d.setAttribute("class","showDot");d.append(new Text(this.display()));c.append(d);d=a.ownerDocument.createElement("td");d.append(new Text(this.origin));c.append(d);d=a.ownerDocument.createElement("td");d.setAttribute("class",this.W?"description killed":"description");this.source?d.append(new Text(this.source.display()+
(this.W?this.fa:""))):d.append(new Text(this.fa));c.append(d);b(this.left);b(this.right);return c};function pb(a){return 0<(V(a)?V(a).i?V(a).i:[]:[]).filter(function(a){return a instanceof Pa&&"drop"==a.M}).length}function qb(a){return(V(a)?V(a).i?V(a).i:[]:[]).filter(function(a){return a instanceof Pa&&"require"==a.M})}
function rb(a,b,c,d){c=void 0===c?!1:c;var e="",f=W(a);d=void 0===d?!1:d;c&&f&&f.i&&0<f.i.length&&(console.log(a),console.log(f));pb(a)&&(d=!0);c&&f&&f.i&&0<f.i.filter(function(a){return a instanceof Pa&&"drop"==a.M}).length&&(d=!0);a.left&&(a.left instanceof hb||G("left not a state:"+a.left),e+=rb(a.left,b,c,d));a.right&&(e+=rb(a.right,b,c,d));if(jb(a)&&"-"!=f.mark&&!d){c=a.l;a=a.oa;d=b[c];if(f instanceof F||f instanceof T&&a)a?d=b.slice(c,a).join(""):a==c?d="":d=f.value;e+=f instanceof H?f.value:
sb(d)}return e}
g.Y=function(a,b,c,d,e,f,h,m,k){function n(d,e,m,n,l){l=void 0===l?k:l;return d?d.Y(a,b,c,e,m,f,h,n,l):[]}k=void 0===k?!1:k;this.a=!0;var y=this.l,B=this.oa,r=V(this),l=r?r.mark:null;r&&r instanceof C&&(l=r.b[0].mark);var w=r?r.name?r.name.J:null:null;r&&r instanceof C&&(w=r.b[0].name.J);r=V(this)?V(this).i?V(this).i:[]:[];var E=!1,ra=!1,Ga=!1,ha=null,ka=null,I=null;if(kb(this)){var sa=this.name;y=b.get(sa);d||(d=y.mark);B=null;h&&!y.O&&(B=d,d="^");y.i.concat(m).filter(function(a){return a instanceof Pa}).forEach(function(a){switch(a.M){case "abc":case "nur":E=
!0;break;case "rename":ka=a.data.data;break;case "name":ha=a.data.data;break;case "assert":a=a.data.data.split(">>>");I="if("+a[0]+") then () else error(QName('','err'),"+(a[1]?a[1]:"'Assertion ''"+a[0].trim()+"'' failed for rule ''"+sa+"'' in:\n'|| string-join((serialize(.,map{'indent':true(),'omit-xml-declaration':true()})=>tokenize('\n'))!(' | '||.),'\n') || '\n'")+")";break;case "drop":Ga=!0;break;case "discard":ra=!0}});d||(d="^");if(Ga&&!k)return[];m=y.name instanceof M&&y.name.J;var S=ka?ka:
y.name instanceof M?y.name.value():sa;e&&!h&&(S=e);h&&m&&(S=y.name.name);if(ha||I){var L=a.createElement(tb(S));var t=n(this.left,l,w,r,!0);var u=n(this.right,l,w,r,!0);ub(t,L);ub(u,L);ha&&(S=SaxonJS.XPath.evaluate("string("+ha+")",L));I&&SaxonJS.XPath.evaluate(I,L)}switch(d){case "^":var N=a.createElement(tb(S));B&&N.setAttributeNS("http://invisiblexml.org/NS","ixml:mark",B);e&&h&&N.setAttributeNS("http://invisiblexml.org/NS","ixml:alias",e);m&&h&&N.setAttributeNS("http://invisiblexml.org/NS","ixml:alias",
y.name.J);break;case "@":"xmlns"==S&&G("'xmlns' is not a valid name for an attribute","D07");N=a.createAttribute(tb(S));e="";e=rb(this,c,!0);N.value=e;break;case "+":e=V(this).value,sb(e),N=new Text(e)}t=n(this.left,l,w,r);u=n(this.right,l,w,r);E&&(E=1==(Array.isArray(t)?t.length:1)+(Array.isArray(u)?u.length:1));if(t instanceof Y){var x=new Y;if("-"==d){d=p(t.b);for(l=d.next();!l.done;l=d.next())if(w=l.value,u instanceof Y)for(r=p(u.b),l=r.next();!l.done;l=r.next())x.add(w.concat(l.value));else x.add(w.concat(vb(u)));
return x}t.b.forEach(function(a){var b=N.cloneNode();if(b instanceof Element)if(u instanceof Y){var c=p(u.b);for(b=c.next();!b.done;b=c.next()){var d=b.value;b=N.cloneNode();ub(a,b,!0);ub(d,b,!0);x.add([b])}}else ub(a,b,!0),ub(u,b,!0),x.add([b]);else x.add(a.concat([b],vb(u)))});return x}if(u instanceof Y){x=new Y;if("-"==d)return u.b.forEach(function(a){return x.add(vb(t).concat(a))}),x;u.b.forEach(function(a){var b=N.cloneNode();if(b instanceof Element){var c=[];a.forEach(function(a,b){Array.isArray(a)&&
c.push(b)});var d=c.length;if(0<d)for(var e={$:0};e.$<d;e={$:e.$},e.$++)b=N.cloneNode(),ub(t,b,!0),a.forEach(function(a){return function(d,e){Array.isArray(d)&&c[a.$]!=e||ub(d,b,!0)}}(e)),x.add([b]);else ub(t,b,!0),ub(a,b,!0),x.add([b])}else x.add(vb(t).concat([b],a))});return x}if(E)return t.concat(u);if(ra&&Array.isArray(t)&&0==t.length&&Array.isArray(u)&&0==u.length)return[];switch(d){case "^":return ub(t,N),ub(u,N),[N];case "-":return t.concat(u);default:return[N]}}else{t=n(this.left,l,w,r);u=
n(this.right,l,w,r);var ea=[];if(jb(this))if(l=W(this),w=W(this)?W(this).mark?W(this).mark:"^":"-",l&&l.i&&0<l.i.filter(function(a){return a instanceof Pa&&"drop"==a.M}).length&&(w="-"),W(this)instanceof H)d=W(this).value,sb(d),h?(l=a.createElementNS("http://invisiblexml.org/NS","ixml:insert"),l.setAttribute("string",d),ea.push(l)):ea.push(new Text(d));else if("^"==w||h&&"-"==w){d=c[y];if(l instanceof F||l instanceof T&&B)B?d=c.slice(y,B).join(""):B==y?d="":d=l.value;"-"==w?(l=a.createElementNS("http://invisiblexml.org/NS",
"ixml:delete"),l.setAttribute("string",d),ea.push(l)):ea.push(new Text(sb(d)))}if(u instanceof Y){x=new Y;d=p(u.b);for(l=d.next();!l.done;l=d.next())if(l=l.value,t instanceof Y)for(w=p(t.b),r=w.next();!r.done;r=w.next())x.add(r.value.concat(l));else x.add(vb(t).concat(l,ea));return x}if(t instanceof Y)return x=new Y,t.b.forEach(function(a){return x.add(a.concat(vb(u),ea))}),x;d=t.concat(u);if((l=V(this))&&l instanceof J&&l.i&&(w=null,l=l.i.filter(function(a){return a instanceof Pa&&"require"==a.M}),
0<l.length&&(w=l[0],!SaxonJS.XPath.evaluate(w.data.data,d[0]))))throw new gb("Failed requirement:"+w.data.data);l=0<d.length?d[d.length-1]:null;return ea[0]instanceof Text&&l instanceof Text?(l.textContent+=ea[0].textContent,d):d.concat(ea)}};function tb(a){try{SaxonJS.atom(a,"NCName")}catch(b){G("'"+a+"' is not a valid name for an XML element","D03")}return a}
function sb(a){for(var b=p([].concat(q(a))),c=b.next();!c.done;c=b.next())c=c.value.codePointAt(0),(32>c&&![9,10,13].includes(c)||55295<c&&57344>c||65533<c&&65536>c||1114111<c)&&G("Character codepoint "+c+" in '"+a+"' is not a valid XML character","D04");return a}function ob(a,b,c){this.left=a;this.right=b;this.next=c}
ob.prototype.display=function(a){a=void 0===a?0:a;var b=" ".repeat(a);b+="DER:";this.left&&(b+=this.left.display(),b+="\n");this.right&&(b+=this.right.display(a+4),b+="\n");this.next&&(b+=" ".repeat(a)+"|OR|"+this.next.display(a+4));return b};
ob.prototype.Y=function(a,b,c,d,e,f,h,m){try{var k=this.left.Y(a,b,c,null,null,f,h,m)}catch(B){if(console.log("Derivation left"),B instanceof gb)k=[];else throw B;}try{var n=this.right?this.right.Y(a,b,c,null,null,f,h,m):[]}catch(B){if(console.log("Derivation right"),B instanceof gb)n=[];else throw B;}if(this.next){var y=new Y;n instanceof Y?n.b.forEach(function(a){return y.add(vb(k).concat(a))}):y.add(vb(k).concat(vb(n)));if(f)return y;a=this.next.Y(a,b,c,null,null,!1,h,m);a instanceof Y?a.b.forEach(function(a){return y.add(a)}):
y.add(a);return y}return n instanceof Y?n:k instanceof Y?k:k.concat(n)};function vb(a){a instanceof Y&&Array.isArray(a.b[0])&&(a=a.b.flat());return a instanceof Y?a.b:a}function Y(){this.b=[]}Y.prototype.add=function(a){Array.isArray(a)&&Array.isArray(a[0])&&G("Adding an array to an ambiguity:"+a);this.b.push(a)};function ub(a,b,c){c=void 0===c?!1:c;Array.isArray(a)?a.forEach(function(a){return wb(a,b,c)}):wb(a,b,c)}
function wb(a,b,c){c=void 0===c?!1:c;Array.isArray(a)&&G("Internal error: node is array: "+a);c=c?a.cloneNode(!0):a;c instanceof Attr?(b.hasAttribute(a.name)&&G("Attempt to overwrite an existing attribute @"+c.name+" on element "+b.localName,"D02"),b.setAttributeNode(c)):c instanceof Text?(a=b.lastChild,a instanceof Text?a.textContent+=c.textContent:0<c.textContent.length&&b.append(c)):b.append(c)}
function xb(a,b,c){if(b||c)if(a.left||a.right)if(a.right)ib(a.left,b)&&c&&a.right&&ib(a.right,c)||(a.left=new ob(b,c,new ob(a.left,a.right,null)),a.right=null);else a:{for(var d=a.left;d;){if(ib(d.left,b)&&c&&d.right&&ib(d.right,c))break a;d=d.next}a.left=new ob(b,c,a.left)}else a.left=b,a.right=c}function nb(a,b,c,d){this.type=a;this.a=b;this.f=c;this.h=d}
nb.prototype.display=function(){var a=this.type+" from ";null!=this.a&&(a+="("+this.a+")");null!=this.f&&(null!=this.a&&(a+=" and "),a+="S("+this.f+")("+this.h+") ");return a};function yb(a,b,c){this.I=[];this.f=a;this.ra=a.slice(b).join("");this.C=b;this.a=c;this.N=c.N;this.h=new Map;this.H=[]}g=yb.prototype;g.add=function(a){this.I.push(a);a.index=this.I.length};function zb(a,b){return a.I.some(function(a){return ib(a,b,a.position+1)})}
function Ab(a,b){return a.I.some(function(a){return ib(a,b)})}function Bb(a,b){return a.I.filter(function(a){return ib(a,b)})[0]}function Cb(a,b,c){return a.I.filter(function(a){return a.name==b&&a.ended&&a.origin==c&&(!a.source||"scanned"!=a.source.type)})}g.K=function(){return new yb(this.f,this.C+1,this.a)};
function Db(a,b){var c=a.N.get(b),d=c.definition.b.map(function(a,d){a=new hb(b,0,0,a.b,d,"start rule");a.S=c;return a});d.forEach(function(b){return a.add(b)});Hb(a,b,0);d.forEach(function(b){return a.H.push(b)})}function Hb(a,b,c){if(a.h.has(b))a.h.get(b).add(c);else{var d=new Set;d.add(c);a.h.set(b,d)}}function Ib(a,b,c){return a.h.has(b)?a.h.get(b).has(c):!1}
function Jb(a){if(0==a.H.length)return!1;var b=a.H.shift();if(!b.W)if(kb(b))Kb(a,b,a.C);else if(b.b[b.position]instanceof J||b.b[b.position]instanceof Va||b.b[b.position]instanceof H||"+"==b.b[b.position].mark||b.b[b.position]instanceof C)Lb(a,b,a.C);else{var c=W(b);a.a.options.G&&(c instanceof F||c instanceof T)&&c.G&&("*"==c.a||"?"==c.a)&&(c=b.K(),c.l=b.l,X(c,"RegExpredict",b.index,null,null),xb(c,b,null),a.add(c),a.H.push(c))}return!0}
function Mb(a,b){var c=[];a=p(a.I);for(var d=a.next();!d.done;d=a.next())d=d.value,d.name==b&&kb(d)&&0==d.origin&&!d.W&&c.push(d);return c}function Nb(a){return a.I.filter(function(a){return jb(a)})}
function Ob(a,b,c,d){var e;if(!Ib(a,b,d)){Hb(a,b,d);var f=a.N.get(b);f.definition.b.forEach(function(h,m){e=new hb(b,d,0,h.b,m,"Spredict from ("+c.index+")");e.l=c.l;X(e,"Spredict",c.index,null,null);e.S=f;m=W(e);if(kb(e)||m instanceof P)e=e.K(),e.l=c.l,X(e,"SBpredict/complete",c.index,null,null),m instanceof P||h instanceof D||h instanceof J||xb(e,c,null);Ab(a,e)?(e.index=-Bb(a,e).index,X(e,"SKnownZZA state predict",-e.index,null,null)):a.add(e);a.H.push(e)})}}
function Lb(a,b,c){var d=W(b);if(d instanceof Va||d instanceof H||"+"==d.mark){var e=b.K();e.l=b.l;X(e,"predict",b.index,null,null);if(kb(e)||"+"==d.mark||d instanceof H)X(e,"Apredict/complete",b.index,null,null),xb(e,b,null);Ab(a,e)||(a.add(e),a.H.push(e))}else if(d instanceof C)d.b.forEach(function(d){Ob(a,d.u,b,c)});else if(d instanceof J){var f=d.u;if(Ib(a,f,c))f==b.name&&c==b.origin&&b.position==b.b.length?G("Infinite ambiguity with production: "+b.name):(d=Cb(a,f,c),0==d.length&&(d=Cb(a,f,c).filter(function(a){return V(a)instanceof
H})),d.forEach(function(c){e=b.K();e.l=b.l;X(e,"Known state predict/complete",b.index,a.C,c.index);xb(e,b,c);a.add(e);a.H.push(e)}));else{Hb(a,f,c);var h=a.N.get(f);h.definition.b.forEach(function(d,k){e=new hb(f,c,0,d.b,k,"predict from ("+b.index+")");e.l=b.l;X(e,"predict",b.index,null,null);e.S=h;k=W(e);if(kb(e)||k instanceof P)e=e.K(),e.l=b.l,X(e,"Bpredict/complete",b.index,null,null),k instanceof P||d instanceof D||d instanceof J||xb(e,b,null);Ab(a,e)?(e.index=-Bb(a,e).index,X(e,"KnownZZA state predict",
-e.index,null,null)):a.add(e);a.H.push(e)})}}}
function Kb(a,b,c){var d=b.name;a.a.T[b.origin].I.forEach(function(e){if(e.ma([d],c)&&!zb(a,e)){var f=!0,h=qb(e);if(0<h.length){console.log("require:");console.log(h);var m=a.f.slice(e.origin,e.l+1).join("");f=SaxonJS.XPath.evaluate(h[0].data.data,new Text(m));console.log(m,f)}if(f){h=e.K();h.l=b.l;X(h,"complete",b.index,b.origin,e.index);var k=W(e);Ab(a,h)?(m=Bb(a,h),k instanceof C&&k.b[1].u==d&&(m.W=!0,m.fa=" Killed by ("+b.index+")",f=!1),f&&(k=V(m),k instanceof C&&k.b[0].u==d&&(m.W=!0,m.fa=" ZZKilled by ("+
e.index+")",f=!1),h.index=m.index,xb(m,e,ib(b,m)?null:b),h=m)):(a.add(h),xb(h,e,b),k instanceof C&&k.b[1].u==d&&(f=!1));f&&a.H.push(h)}}})}
function Pb(a,b,c,d){var e=!1;d.I.forEach(function(f,h){var m=W(f);if(a.a.options.va&&m instanceof F&&1<m.value.length){if(d.ra.startsWith(m.value)){e=!0;var k=f.K();f.l=b;k.l=b;X(k,"scanned",null,d.C,h+1);xb(k,f,null);f=b+m.value.length;h=a.a.T[f];h.add(k);h.H.push(k);a.a.da=Math.max(f,a.a.da)}}else a.a.options.G&&(m instanceof F||m instanceof T)&&m.G?m.G.test(d.ra)&&(e=!0,k=f.K(),f.l=b,k.l=b,X(k,"scannedABCD",null,d.C,h+1),xb(k,f,null),h=d.ra.match(m.G),h=b+h[0].length,f.oa=h,f=a.a.T[h],f.add(k),
f.H.push(k),a.a.da=Math.max(h,a.a.da)):!f.W&&f.matches(c)&&(e=!0,k=f.K(),f.l=b,k.l=b,X(k,"scanned",null,d.C,h+1),xb(k,f,null),a.add(k),a.H.push(k))});return e}g.display=function(){var a=document.implementation.createDocument("","",null);this.c(a);return a};g.countStates=function(){return this.I.length};
g.c=function(a){var b=this,c=a.createElement("table");a.append(c);var d=a.createElement("thead");c.append(d);var e=a.createElement("tr");d.append(e);var f=a.createElement("th");f.setAttribute("colspan","5");f.setAttribute("class","stateSpace");e.append(f);e="S("+this.C+"): "+(80<this.f.length?"":this.f.slice(0,this.C).join("")+"\u2022"+this.f.slice(this.C).join(""));if(0<this.C){var h=this.f[this.C-1].codePointAt(0);e+=" char '"+this.f[this.C-1]+"' (codepoint "+h+",#"+(new Number(h)).toString(16)+
")"}f.append(new Text(e));e=a.createElement("tr");d.append(e);d=a.createElement("td");d.setAttribute("colspan","3");e.append(d);var m=a.createElement("tbody");c.append(m);this.I.forEach(function(a){return a.c(m,b.C)})};
function Qb(a){var b=this;this.version="1.0";this.b=[];this.a=[];this.start=null;this.N=new Map;a.forEach(function(a){a instanceof A?Rb(b,a):(b.b.push(a),a instanceof wa&&a.version&&(b.version=a.version.version))});this.T=[];this.da=0;this.f=null;this.h=[];this.options={};this.compiled=!1;this.parseTime=this.compileTime=null}
function Rb(a,b){var c=b.name instanceof M?b.name.name:b.name;a.N.has(c)&&G("Adding productions for an already-defined non-terminal: "+c,"S03");a.a.push(b);a.b.push(b);a.N.set(c,b)}g=Qb.prototype;g.ma=function(a,b){var c=[];a.A(function(a){a.u&&!b.has(a.u)&&(b.add(a.u),c.push(a.u))});return c};
function Sb(a){a.start=a.a[0].name instanceof M?a.a[0].name.name:a.a[0].name;var b=new Set;a.a.forEach(function(a){return b.add(a.name instanceof M?a.name.name:a.name)});for(var c=new Set,d=p(a.a),e=d.next();!e.done;e=d.next())a.ma(e.value,c);c=new Set([].concat(q(c)).filter(function(a){return!b.has(a)}));0<c.size&&!a.options.wa&&G("No production rules for non-terminals: "+[].concat(q(c)).join(","),"S02");if(a.options.ya){var f=Tb(a);a=new Set([].concat(q(b)).filter(function(a){return!f.has(a)}));
0<a.size&&G("Unreachable production rules for non-terminals: "+[].concat(q(a)).join(","),"S002")}}function Tb(a){var b=new Set,c=a.a[0];b.add(c.name.name);c=[c.name.name];for(var d={};0<c.length;)d.aa=[],c.forEach(function(c){return function(d){d=a.N.get(d);c.aa=c.aa.concat(a.ma(d,b))}}(d)),c=d.aa,d={aa:d.aa};return b}
g.compile=function(a){function b(b){return a instanceof SaxonJS.XdmMap?(b=SaxonJS.atom(b),a.containsKey(b)?a.get(b)[0].value:!1):a.hasOwn(b)?a[b]:!1}a.value&&(a=a.value);var c=performance.now(),d=b("twRewrites");d=!0;this.options.ya=b("unreachable");this.options.na=b("pragmas");this.options.wa=b("missing");this.options.va=b("longStrings");this.options.G=b("regEx");try{Sb(this),Ub(this),Vb(this,d),this.options.va||Wb(this),Sb(this)}catch(e){if(e instanceof SaxonJS.XError)throw e;G("Error in compilation: "+
e.message,"S02")}this.compileTime=performance.now()-c;this.compiled=!0};
function Ub(a){for(var b=[],c=[],d={},e=p(a.a),f=e.next();!f.done;d={U:d.U},f=e.next())d.U=f.value,d.U.A(function(a){return function(d,e){e&&d instanceof P?(e.replace(d,new J("Alt"+b.length,null)),d.lineNumber=a.U.lineNumber,d.v=a.U.v,b.push(d)):e&&e instanceof C&&d instanceof R&&(e.replace(d,new J("Sub"+c.length,null)),d.lineNumber=a.U.lineNumber,d.v=a.U.v,c.push(d))}}(d));b.forEach(function(b,c){c=new A("Alt"+c,b,"-");c.O=!0;c.lineNumber=b.lineNumber;c.v=b.v;Rb(a,c)});c.forEach(function(b,c){var d=
new D;d.add(b);var e=new P;e.add(d);c=new A("Sub"+c,e,"-");c.O=!0;c.lineNumber=b.lineNumber;c.v=b.v;Rb(a,c)})}
function Wb(a){a=p(a.a);for(var b=a.next();!b.done;b=a.next())b.value.A(function(a,b){if(a instanceof D){var c=a.b.filter(function(a){return a instanceof F});b=p(c);for(c=b.next();!c.done;c=b.next()){var d=c.value,h=[],m=p(d.value);for(c=m.next();!c.done;c=m.next())h.push(new F(c.value,d.mark,d.ea));c=a.b.indexOf(d);a.b.splice.apply(a.b,[c,1].concat(q(h)));c=a.s.indexOf(d);a.s.splice.apply(a.s,[c,1].concat(q(h)))}}else if(b&&a instanceof F&&"+"!=a.mark&&1<a.value.length){d=[];h=p(a.value);for(c=h.next();!c.done;c=
h.next())d.push(new F(c.value,a.mark,a.ea));Ua(b,a,d)}})}
function Vb(a,b){for(var c=[],d=new Set,e=a.options.G,f={},h=p(a.a),m=h.next();!m.done;f={ba:f.ba},m=h.next())f.ba=m.value,f.ba.A(function(a){return function(b,f){if(b instanceof Q){var h=b.o;if(e&&(h instanceof F||h instanceof T)){var k=b.F;h.a=k;h instanceof F&&(h.G=new RegExp("^("+h.pattern+")"+k,"u"));h instanceof T&&(h.G=new RegExp("^(["+(h instanceof $a?"^":"")+h.pattern+"])"+k,"u"));f.replace(b,h)}else h=new J(Wa(b,c.length)+b.a,null),b.lineNumber=a.ba.lineNumber,b.v=a.ba.v,f.replace(b,h),
d.has(h.u)||(c.push(b),d.add(h.u))}}}(f));0<c.length&&c.forEach(function(c,d){b?c.sa(d).forEach(function(b){b.lineNumber=c.lineNumber;b.v=c.v;Rb(a,b)}):c.L(d).forEach(function(b){b.lineNumber=c.lineNumber;b.v=c.v;Rb(a,b)})})}function Xb(a,b){a.f=b;a.h=b.split(/\n/)}function Yb(a,b){for(var c=1,d=1,e=0;e<b;e++)d++,/\n/.test(a.f[e])&&(c++,d=1);return{line:c,R:d}}
g.parse=function(a,b){function c(a){return b instanceof SaxonJS.XdmMap?(a=SaxonJS.atom(a),b.containsKey(a)?b.get(a)[0].value:!1):b.hasOwn(a)?b[a]:!1}function d(a){return b instanceof SaxonJS.XdmMap?(a=SaxonJS.atom(a),b.containsKey(a)?b.get(a)[0].value:null):b.hasOwn(a)?b[a]:null}function e(a){a.hasAttribute("xmlns:ixml")||a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:ixml","http://invisiblexml.org/NS")}function f(a){e(a);a.setAttributeNS("http://invisiblexml.org/NS","ixml:state","ambiguous")}
function h(a){e(a);a.setAttributeNS("http://invisiblexml.org/NS","ixml:state","version-mismatch")}function m(a){var b=a[0];b instanceof Attr&&G("An attribute node may not be the final parse result @"+b.name,"D05");b instanceof Text&&G("A text node may not be the final parse result: '"+b.textContent+"'","D06");1<a.length&&G("Multiple nodes may not be the final parse result:"+a.map(function(a){a:{switch(a.nodeType){case Node.ELEMENT_NODE:a="<"+a.tagName+"/>";break a;case Node.ATTRIBUTE_NODE:a="@"+a.name;
break a;case Node.TEXT_NODE:a="'"+a.textContent+"'";break a}a=void 0}return a}),"D06")}b=void 0===b?{}:b;this.compiled||G("An IXML grammar must be compiled before being used to parse");b.value&&(b=b.value);for(var k=0,n=p(this.N.keys()),y=n.next();!y.done;y=n.next());y=!fb.includes(this.version);var B=performance.now(),r=[].concat(q(a));Xb(this,a);this.T=[];n=0;var l=d("loopLimit");l||(l=1E3);var w=d("parseTimeout");w&&(w+=B);var E=new yb(r,n++,this);this.T.push(E);for(n=0;n<r.length;n++)this.T[n+
1]=new yb(r,n+1,this);n=null;Db(E,this.start);var ra=!0,Ga=0;try{for(;ra;){if(Ga++>l){G("Looping at start?");break}ra=Jb(E)}}catch(O){O.message&&"looping in process"!=O.message&&(n=O.message)}var ha=E;if(!n)for(var ka={},I=0;I<r.length;ka={ia:ka.ia},I++){E=this.T[I+1];if(!(Pb(E,I,r[I],ha)||this.da>=I+1)){k=Yb(this,I);n="Failure at line "+k.line+" column "+k.R+"\nGiven '"+a[I]+"' (codepoint "+a[I].codePointAt(0)+"). Expecting one of:\n";ka.ia=new Set;Nb(ha).forEach(function(a){return function(b){var c=
W(b);c instanceof H||(b=b.S.lineNumber?" {#"+b.S.lineNumber+": "+b.S.v+"}":" {generated rule:"+b.name+" (see compiled grammar)}",a.ia.add("   "+c.display()+b))}}(ka));n+=[].concat(q(ka.ia)).join(",\n");n+="\nInput:\n   "+this.h[k.line-1]+"\n   ";n+=" ".repeat(k.R-1)+"^\n";break}ra=!0;Ga=0;try{for(;ra;){if(Ga++>l){var sa=Yb(this,I);G("Probable looping ("+l+") processing character '"+r[I]+"' @ line "+sa.line+", column "+sa.R);break}if(w&&performance.now()>w){var S=Yb(this,I);G("Parsing timeout (after "+
(w-B)+"ms) while processing character '"+r[I]+"' @ line "+S.line+", column "+S.R);break}k++;ra=Jb(E)}}catch(O){n=O.message;break}ha=E}a=performance.now()-B;k=c("justOne");sa=c("suppressMarks");S=[];E=Mb(E,this.start);if(!n&&0<E.length){ha=1<E.length;var L=document.implementation.createDocument("","",null);L=document.implementation.createDocument("","",null);try{for(var t=p(E),u=t.next();!u.done;u=t.next()){var N=u.value;try{var x=N.Y(L,this.N,r,null,null,k,sa,[]);if(x instanceof Y)for(var ea=p(x.b),
lb=ea.next();!lb.done;lb=ea.next()){var mb=lb.value;f(mb[0]);var Eb=document.implementation.createDocument("","",null);S.push(Eb);m(mb);Eb.append(mb[0].cloneNode(!0));if(k)break}else{ha&&f(x[0]);y&&h(x[0]);var Fb=document.implementation.createDocument("","",null);S.push(Fb);m(x);Fb.append(x[0].cloneNode(!0))}if(k)break}catch(O){if(!(O instanceof gb))throw O;}}}catch(O){O.code?n={code:"string"==typeof O.code?O.code.substring(O.code.indexOf("}")+1):O.code,message:O.message}:n="Possible internal error: "+
O.stack,E=[]}L=S[0]}else if(!n){n="\nEnd of input reached before parse completed.\nExpecting one of the following terminals:\n    ";var Gb=new Set;Nb(ha).forEach(function(a){var b=W(a);b instanceof H||Gb.add(a.name+":"+b.display())});n+=[].concat(q(Gb)).join(";\n    ")+"\n"}t={parsed:0<E.length,tree:L,allTrees:S,states:this.T,parseTime:a,treeTime:performance.now()-B-a,compileTime:this.compileTime};n&&(t.failed=n,t.allTrees=null,u=L=document.implementation.createDocument("","",null),t.tree=u,L=u.createElement("ixml"),
u.append(L),e(L),L.setAttributeNS("http://invisiblexml.org/NS","ixml:state","failed"),n.code?(t.failed=n.message,t["error-code"]=n.code,L.setAttributeNS("http://invisiblexml.org/NS","ixml:error-code",n.code),L.append(new Text("\n"+n.message))):(L.append(new Text("\n"+n)),n.startsWith("Probable looping")&&(t.looping=!0)));return t};
g.flat=function(){for(var a="",b=this.b.reduce(function(a,b){return b instanceof A&&Ra(b)>a?Ra(b):a},0),c=p(this.b),d=c.next();!d.done;d=c.next()){d=d.value;if(d instanceof Sa||d instanceof wa)a+="\n";a+=d.flat(b)}return a};
g.display=function(a){var b={};if(a)if(a.value&&(a=a.value),a instanceof SaxonJS.XdmMap){var c=SaxonJS.atom("debug");a=a.containsKey(c)?a.get(c)[0].value:!1}else a=a.hasOwn("debug")?a.debug:!1;else a=!1;b.debug=a;a=document.implementation.createDocument("","",null);this.c(a,b);return a};g.c=function(a,b){b=void 0===b?{debug:!1}:b;var c=a.createElement("ixml");this.start&&c.setAttribute("startTerm",this.start);a.append(c);a=p(this.b);for(var d=a.next();!d.done;d=a.next())d.value.c(c,b)};
var ac={compile:function(a,b){a instanceof Document||a instanceof DocumentFragment?(a=Zb(a,b),a.compile(b),b=a):(a=a instanceof Node?a.textContent:a,a=(new $b(b)).parse(a),a.compile(b),b=a);return b},parse:function(a,b){a instanceof Document||a instanceof DocumentFragment?b=Zb(a,b):(a=a instanceof Node?a.textContent:a,b=(new $b(b)).parse(a));return b},version:function(){return"1.1.2"}};window.jwiXML=function(){return ac};function bc(){this.h="";this.F=this.a=0;this.f=this.lineNumber=1;this.w=null;this.line="";this.ca=null;this.ua=[]}g=bc.prototype;g.la=function(){return this.a};g.ga=function(){this.ua.push({offset:this.a,line:this.lineNumber,R:this.f})};g.X=function(){var a=this.ua.pop();this.a=a.offset;this.lineNumber=a.line;this.f=a.R};g.ja=function(a){for(;a--;)this.next()};g.g=function(){return this.h.charAt(this.a)};g.Z=function(){return this.a<this.F};g.startsWith=function(a){return this.h.substring(this.a).startsWith(a)};
g.next=function(){this.a==this.F&&G("End of input");this.a+=1;this.w=this.h.charAt(this.a);this.line+=this.w;/\n/.test(this.w)&&(this.lineNumber++,this.f=0,this.line="");this.f++;return this.w};g.back=function(){0!=this.a&&(/\n/.test(this.w)?(this.lineNumber--,this.f=0,this.line=""):this.f--,this.a=this.a-1,this.w=this.h.charAt(this.a))};g.matches=function(a){return this.h.substring(this.a).match(a)};g.test=function(a){return a.test(this.h.substring(this.a))};
g.location=function(){return{line:this.lineNumber,R:this.f}};function cc(a){return(a=a.g())?"'"+a+"' (codepoint "+a.codePointAt(0)+")":"(no character)"}g.D=function(a,b,c){a!=this.g()&&this.j((void 0===b?"":b)+"\nExpecting character:'"+a+"' - given: "+cc(this),void 0===c?"G000":c);this.next()};g.pa=function(a,b){b=void 0===b?"":b;a.includes(this.g())||(a=a.split("").map(function(a){return"'"+a+"'"}).join(","),this.j(b+"\nExpecting one of "+a+" - given: "+cc(this),"G000"));this.next()};
g.j=function(a,b){b=void 0===b?"ABCD":b;var c=this.location();a+=".\nNear "+("line "+this.lineNumber+", column "+this.f)+".\n";a+=this.ca[c.line-1]+"\n";a+=" ".repeat(c.R-1)+"^\n";G(a,b)};function G(a,b){var c=void 0===c?null:c;a=new SaxonJS.XError(a,"Q{http://invisiblexml.org/NS}"+(void 0===b?"ABCD":b));c&&(a.Aa=c.line);throw a;}
function Zb(a,b){new $b(b);b=performance.now();(a instanceof Document||a instanceof DocumentFragment)&&"ixml"==a.firstChild.nodeName||G("An ixml grammar in XML format must be supplied as a document-node(element(ixml))");var c=[];a=p(a.firstChild.children);for(var d=a.next();!d.done;d=a.next())c.push(z(d.value));c=new Qb(c);c.parseTime=performance.now()-b;return c}
function $b(a){function b(b){return a instanceof SaxonJS.XdmMap?(b=SaxonJS.atom(b),a.containsKey(b)?a.get(b)[0].value:!1):a.hasOwn(b)?a[b]:!1}this.h=this.a=null;a.value&&(a=a.value);this.debug=b("debug");this.na=b("pragmas");this.wa=b("missing");this.F=b("version1.1")?"1.1":"1.0";this.w=b("strictVersion");this.f="1.0"}g=$b.prototype;g.j=function(a,b){this.a.j(a,void 0===b?"G000":b)};g.la=function(){return this.a.la()};g.Z=function(){return this.a.Z()};g.g=function(){return this.a.g()};
g.startsWith=function(a){return this.a.startsWith(a)};g.next=function(){return this.a.next()};g.back=function(){return this.a.back()};g.D=function(a,b,c){return this.a.D(a,b,void 0===c?"G000":c)};g.pa=function(a,b){return this.a.pa(a,b)};function dc(a,b){b.split("").forEach(function(b){a.D(b,"Invalid pragma syntax. ")})}g.matches=function(a){return this.a.matches(a)};g.test=function(a){return this.a.test(a)};g.ga=function(){this.a.ga()};g.X=function(){this.a.X()};g.ja=function(a){this.a.ja(a)};
function ec(a,b){for(var c="",d=a.g();d!=b;)c+=d,a.Z()||a.j("Unterminated string "+b+"..."),d=a.next();return c}
g.parse=function(a){var b=performance.now();this.h=a;var c=new bc;this.a=c;c.h=a;c.F=a.length;c.ca=a.split(/\n/);a.startsWith("\n")&&c.lineNumber++;try{var d=Z(this);a=[];c=[];switch(this.g()){case "i":var e=fc(this)}e&&(c=Z(this));if(this.startsWith("{[+"))for(e||this.j("A prolog must contain a declaration of iXML version");this.startsWith("{[+");)a.push(gc(this,!0));if(e||0<a.length){for(var f=new wa(e,a),h;h=hc(this);)f.a.push(h);c.unshift(f)}d=d.concat(c);d=d.concat(Z(this));for(e=[];this.Z();)e.push(ic(this)),
this.Z()&&(e=e.concat(jc(this)));d=d.concat(e);d=d.concat(Z(this));var m=new Qb(d);m.version=this.f;m.parseTime=performance.now()-b;return m}catch(k){k instanceof SaxonJS.XError&&this.j(k.message,"PARSE"),this.j(k.message,k.code)}};function kc(a){for(var b=a.g();/\s/.test(b);)b=a.next()}
function Z(a,b){b=void 0===b?null:b;for(var c=[],d=a.g();/\s/.test(d);)d=a.next();"{"!=d||a.na&&a.startsWith("{[")||(c.push(lc(a)),Z(a).forEach(function(a){return c.push(a)}));b&&c.forEach(function(a){return b.V(a)});return c}function mc(a){for(var b=[],c=a.g();/\s/.test(c);)c=a.next();for(;"{"==c;)for(b.push(a.na&&a.startsWith("{[")?gc(a):lc(a)),c=a.g();/\s/.test(c);)c=a.next();return b}
function jc(a){var b=void 0===b?null:b;var c=a.g();if(/\s|\{/.test(c))return Z(a,b);a.j("Must have whitespace, given: '"+c+"' codepoint("+c.codePointAt(0)+")","S01")}function lc(a){var b=[],c="";a.D("{","Invalid comment syntax");for(var d=a.g();"}"!=d;)"{"==d?(""!=c&&b.push(c),b.push(lc(a)),c="",d=a.g()):(c+=d,a.Z()||a.j("Unterminated comment"),d=a.next());""!=c&&b.push(c);a.D("}","Invalid comment syntax");return new Sa(b)}
function hc(a){var b=new RegExp(/\p{L}|_/,"u");a.ga();var c=nc(a);if(0<c.length){var d=a.g();if(!/\s/.test(d))return a.X(),null;Z(a);d=a.g();var e=[];if(/'|"/.test(d))var f=oc(a,d);else if(b.test(d))for(;b=pc(a);){e.push(b);if(","!=a.g()){Z(a);break}a.next();Z(a)}else return a.X(),null;d=a.g();if(/\./.test(d))return c=new Ba(c,e),f&&(c.value=f.value),a.next(),Z(a),c;a.X()}return null}
function pc(a){a.ga();var b=nc(a);if(0<b.length){Z(a);a.D(":","Invalid field declaration. ","G000");Z(a);var c=a.g(),d;/'|"/.test(c)?d=oc(a,c):a.j("A metadata field value must be a quoted string");return new Ca(b,d.value)}a.X();return null}
function fc(a){a.ga();var b=a.matches(/ixml/);if(b&&(a.ja(b[0].length),/\s|\{/.test(a.g()))){var c=jc(a);if(b=a.matches(/version/)){a.ja(b[0].length);c=c.concat(jc(a));/'|"/.test(a.g())||a.j("Invalid version declaration","G000");b=oc(a,a.g());c=c.concat(Z(a));a.D(".","Invalid version declaration. ","G000");a.w&&b.value>a.F&&a.j("Version"+b.value+" not supported in this configuration","G000");a.f=b.value;var d=new xa(b.value);c.forEach(function(a){return d.a.push(a)});return d}}a.X();return null}
function gc(a,b){b=void 0===b?!1:b;dc(a,b?"{[+":"{[");var c=nc(a);var d=a.g();":"==d&&(c+=d,a.next(),c+=nc(a));d=null;if(/\s/.test(a.g())){kc(a);d="";for(var e=a.g();!/\]/.test(e);)d+=e,"{"==e&&(a.next(),e=qc(a),d+=e.data+"}"),e=a.next();d=new Aa(d)}dc(a,"]}");kc(a);return b?new za(c,d):new Pa(c,d)}function qc(a){for(var b="",c=a.g();!/\}/.test(c);)b+=c,"{"==c&&(a.next(),c=qc(a),b+=c.data+"}"),c=a.next();return new Aa(b)}
function ic(a){var b=null,c=[],d=a.g(),e=a.la();c=mc(a);d=a.g();/@|-|\^/.test(d)&&(b=d,d=a.next(),Z(a).forEach(function(a){return c.push(a)}));d=rc(a);Z(a).forEach(function(a){return c.push(a)});a.pa(":=","Invalid rule syntax. Missing name-definition separator.");Z(a).forEach(function(a){return c.push(a)});var f=sc(a);c=c.concat(mc(a));a.D(".","Invalid rule syntax. Missing rule terminator character.","S12");b=new A(d,f,b);b.v=a.h.substring(e,a.la());b.i=c;b.lineNumber=a.a.lineNumber;return b}
function nc(a){var b=new RegExp(/\p{L}|_|\p{Nd}|\p{Mn}|-|\./,"u"),c=new RegExp(/^\s+(\p{L}|_|-|@|\{)|$/,"u"),d=a.g(),e=d;(new RegExp(/\p{L}|_/,"u")).test(d)||a.j("'"+d+"' (codepoint "+d.codePointAt(0)+") is not a valid name character");var f=d;for(d=a.next();b.test(d);)f+=d,e=d,d=a.next();"."==e&&a.test(c)&&(f=f.substring(0,f.length-1),a.back());return f}
function rc(a){var b=nc(a),c=[];Z(a).forEach(function(a){return c.push(a)});var d=null;">"==a.g()&&(1.1>a.f&&a.j("Renaming supported only in iXML grammar version >=1.1"),a.next(),Z(a).forEach(function(a){return c.push(a)}),d=nc(a));a=new M(b,d);a.i=c;return a}function sc(a){var b=null,c=new P,d=a.g(),e;/;|\|/.test(d)?e=new Va:e=tc(a);e&&c.add(e);for(d=a.g();/;|\|/.test(d);)b||(b=d),a.next(),Z(a,c),d=a.g(),/;|\|/.test(d)?c.add(new Va):(c.add(tc(a)),Z(a,c),d=a.g());b&&(c.m=b);return c}
function tc(a){var b=new D,c=uc(a);c&&b.add(c);for(c=a.g();/,/.test(c);)a.next(),Z(a,b),(c=uc(a))||a.j("Invalid start of term"),b.add(c),c=a.g();return b}
function uc(a){var b=a.g(),c=null,d=[];a.na&&a.startsWith("{[")&&(d=mc(a),b=a.g());/@|-|\^|\+/.test(b)&&(c=b,b=a.next(),Z(a),b=a.g());if("+"==c)return vc(a);switch(b){case "(":c&&a.j("No marker permitted on bracketed constructs (factor), given '"+c+"'","S006");var e=wc(a);break;case ")":return null;case '"':e=oc(a,b);break;case "'":e=oc(a,b);break;case "#":e=xc(a);break;case "[":e=yc(a,!1);break;case "~":a.next();Z(a);e=yc(a,!0);break;case ".":break;default:e=zc(a)}c&&(e instanceof R&&"@"==c&&a.j("The only permitted mark for a terminal is '-', '+' or '^', given '"+
c+"'","S04"),"+"!=c||e instanceof R&&!(e instanceof T)||a.j("The insertion mark '+' is only permitted on quoted or encoded literals","S05"),e.mark=c);e instanceof J|e instanceof R&&d.forEach(function(a){return e.i.push(a)});b=a.g();d=!1;switch(b){case "*":e=new Ka(e,c);d=!0;a.next();break;case "+":e=new Ma(e,c);d=!0;a.next();break;case "?":e=new Ja(e,c);a.next();Z(a,e);break;case "\u00ac":return a.next(),Z(a),b=new C,b.add(e),b.add(uc(a)),b}d&&(b==a.g()?(a.next(),Z(a,e),a=new Na(uc(a),null),La(e,
a)):Z(a,e));return e}function wc(a){a.D("(","Invalid bracketed syntax");Z(a);var b=sc(a);a.D(")","Invalid bracketed syntax");Z(a);return b}function oc(a,b){a.next();var c,d=ec(a,b);for(c=a.next();c==b;)d+=b,a.next(),d+=ec(a,b),c=a.next();0==d.length&&a.j("A literal string may not be empty","G00");d.includes("\n")&&a.j("A literal string may not contain a linebreak","S11");b=new F(d,null,b);Z(a,b);return b}
function xc(a){var b="";a.D("#","Invalid hex syntax");for(var c=a.g();/[0-9]|[A-F]|[a-f]/.test(c);)b+=c,c=a.next();""==b&&a.j("An encoded character must have one or more hexadecimal digits following the # character","S06");c=parseInt(b,16);var d=c%65536;1114111<c&&a.j("An encoded character must have a hexadecimal value within the Unicode point range","S07");(55296<c&&57343>=c||65534==d||65535==d)&&a.j("An encoded character must not denote a Unicode noncharacter or surrogate code point","S08");try{String.fromCodePoint(c)}catch(e){a.j("An encoded character must have a hexadecimal value within the Unicode point range",
"S0Z7")}b=new Fa(b,null);Z(a,b);return b}function vc(a){var b=a.g();if("#"==b)return a=xc(a),new H(a.text,!0);a=oc(a,b);return new H(a.value,!1)}function zc(a){var b=rc(a);b=new J(b,null);b.i=mc(a);return b}
function yc(a,b){b=b?new $a(null):new ab(null);a.D("[","Invalid set syntax");Z(a,b);var c=Ac(a);if(!c)return c=a.g(),/\]/.test(c)||a.j("No closing square bracket on charset. Provided:'"+c+"'","G00"),a.next(),b;Z(a,c);b.add(c);for(c=a.g();/;|\|/.test(c);)a.next(),Z(a,b),c=Ac(a),b.add(c),Z(a,c),c=a.g();/\]/.test(c)||a.j("No closing square bracket on charset. Provided:'"+c+"'","G00");a.next();Z(a,b);return b}
function Ac(a){var b=a.g();if(/[A-Z]/.test(b)){var c=a.g();b=a.next();if(/[a-z]/.test(b)||"L"==c&&"C"==b)c+=b,b=a.next(),/[A-Za-z]/.test(b)&&a.j("A Unicode character category code must match [A-Z][a-z]?. Provided: '"+c+b+"'","S10");/\s|;|\||\]/.test(b)||a.j("A Unicode character category code must match [A-Z][a-z]?. Provided: '"+c+b+"'","S10");c=new db(c);Z(a,c);return c}c=Bc(a);Z(a,c);b=a.g();return"-"==b?(a.next(),Z(a),(b=Bc(a))||a.j("Missing 'to' character of a character range","G00"),new eb(c,
b)):c}function Bc(a){var b=a.g();if("#"==b){b="";a.D("#","Invalid hex syntax");for(var c=a.g();/[0-9]|[A-F]|[a-f]/.test(c);)b+=c,c=a.next();return new cb(b)}if('"'==b||"'"==b){c=a.g();a.next();var d=ec(a,c);for(b=a.next();b==c;)d+=c,a.next(),d+=ec(a,c),b=a.next();0==d.length&&a.j("A member literal string may not be empty","G00");d.includes("\n")&&a.j("A literal string may not contain a linebreak","S11");return new bb(d,c)}};
