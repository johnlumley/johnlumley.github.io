var g;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function q(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function r(a){if(!(a instanceof Array)){a=q(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ca;
if("function"==typeof Object.setPrototypeOf)ca=Object.setPrototypeOf;else{var da;a:{var ea={da:!0},fa={};try{fa.__proto__=ea;da=fa.da;break a}catch(a){}da=!1}ca=da?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=ca;
function u(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.ea=b.prototype}var ja="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function w(a,b){if(b){var c=v;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ja(c,a,{configurable:!0,writable:!0,value:b})}}w("Object.is",function(a){return a?a:function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}});
w("Array.prototype.includes",function(a){return a?a:function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}});function ka(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
w("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==ka(this,a,"includes").indexOf(a,c||0)}});w("String.prototype.repeat",function(a){return a?a:function(a){var b=ka(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var d="";a;)if(a&1&&(d+=b),a>>>=1)b+=b;return d}});
w("String.prototype.codePointAt",function(a){return a?a:function(a){var b=ka(this,null,"codePointAt"),d=b.length;a=Number(a)||0;if(0<=a&&a<d){a|=0;var e=b.charCodeAt(a);if(55296>e||56319<e||a+1===d)return e;a=b.charCodeAt(a+1);return 56320>a||57343<a?e:1024*(e-55296)+a+9216}}});function la(){la=function(){};v.Symbol||(v.Symbol=ma)}var ma=function(){var a=0;return function(b){return"jscomp_symbol_"+(b||"")+a++}}();
function na(){la();var a=v.Symbol.iterator;a||(a=v.Symbol.iterator=v.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&ja(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return oa(aa(this))}});na=function(){}}function oa(a){na();a={next:a};a[v.Symbol.iterator]=function(){return this};return a}function y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
w("WeakMap",function(a){function b(a){this.a=(m+=Math.random()+1).toString();if(a){a=q(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(){}function d(a){y(a,f)||ja(a,f,{value:new c})}function e(a){var b=Object[a];b&&(Object[a]=function(a){if(a instanceof c)return a;d(a);return b(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==
d.get(c)}catch(k){return!1}}())return a;var f="$jscomp_hidden_"+Math.random();e("freeze");e("preventExtensions");e("seal");var m=0;b.prototype.set=function(a,b){d(a);if(!y(a,f))throw Error("WeakMap key fail: "+a);a[f][this.a]=b;return this};b.prototype.get=function(a){return y(a,f)?a[f][this.a]:void 0};b.prototype.has=function(a){return y(a,f)&&y(a[f],this.a)};b.prototype.delete=function(a){return y(a,f)&&y(a[f],this.a)?delete a[f][this.a]:!1};return b});
w("Map",function(a){function b(){var a={};return a.C=a.next=a.head=a}function c(a,b){var c=a.a;return oa(function(){if(c){for(;c.head!=a.a;)c=c.C;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})}function d(a,b){var c=b&&typeof b;"object"==c||"function"==c?f.has(b)?c=f.get(b):(c=""+ ++m,f.set(b,c)):c="p_"+b;var d=a.b[c];if(d&&y(a.b,c))for(a=0;a<d.length;a++){var e=d[a];if(b!==b&&e.key!==e.key||b===e.key)return{id:c,list:d,index:a,u:e}}return{id:c,list:d,
index:-1,u:void 0}}function e(a){this.b={};this.a=b();this.size=0;if(a){a=q(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a(q([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||
"t"!=e.value[1]||!d.next().done?!1:!0}catch(t){return!1}}())return a;na();var f=new WeakMap;e.prototype.set=function(a,b){a=0===a?0:a;var c=d(this,a);c.list||(c.list=this.b[c.id]=[]);c.u?c.u.value=b:(c.u={next:this.a,C:this.a.C,head:this.a,key:a,value:b},c.list.push(c.u),this.a.C.next=c.u,this.a.C=c.u,this.size++);return this};e.prototype.delete=function(a){a=d(this,a);return a.u&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.b[a.id],a.u.C.next=a.u.next,a.u.next.C=a.u.C,a.u.head=null,
this.size--,!0):!1};e.prototype.clear=function(){this.b={};this.a=this.a.C=b();this.size=0};e.prototype.has=function(a){return!!d(this,a).u};e.prototype.get=function(a){return(a=d(this,a).u)&&a.value};e.prototype.entries=function(){return c(this,function(a){return[a.key,a.value]})};e.prototype.keys=function(){return c(this,function(a){return a.key})};e.prototype.values=function(){return c(this,function(a){return a.value})};e.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=
d.value,a.call(b,d[1],d[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var m=0;return e});
w("Set",function(a){function b(a){this.a=new Map;if(a){a=q(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.a.size}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new a(q([b]));if(!d.has(b)||1!=d.size||d.add(b)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=b||f.value[1]!=b)return!1;f=e.next();return f.done||f.value[0]==b||4!=f.value[0].x||
f.value[1]!=f.value[0]?!1:e.next().done}catch(m){return!1}}())return a;na();b.prototype.add=function(a){a=0===a?0:a;this.a.set(a,a);this.size=this.a.size;return this};b.prototype.delete=function(a){a=this.a.delete(a);this.size=this.a.size;return a};b.prototype.clear=function(){this.a.clear();this.size=0};b.prototype.has=function(a){return this.a.has(a)};b.prototype.entries=function(){return this.a.entries()};b.prototype.values=function(){return this.a.values()};b.prototype.keys=b.prototype.values;
b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,b){var c=this;this.a.forEach(function(d){return a.call(b,d,d,c)})};return b});w("String.fromCodePoint",function(a){return a?a:function(a){for(var b="",d=0;d<arguments.length;d++){var e=Number(arguments[d]);if(0>e||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?b+=String.fromCharCode(e):(e-=65536,b+=String.fromCharCode(e>>>10&1023|55296),b+=String.fromCharCode(e&1023|56320))}return b}});
w("String.prototype.startsWith",function(a){return a?a:function(a,c){var b=ka(this,a,"startsWith"),e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var m=0;m<f&&c<e;)if(b[c++]!=a[m++])return!1;return m>=f}});function pa(a,b,c,d,e,f){this.name=a;this.ended=c>=d.length;this.origin=b;this.position=c;this.o=0;this.c=d;this.index=0;this.U=e;this.a=f;this.source=this.right=this.left=null}g=pa.prototype;
g.K=function(){var a=new pa(this.name,this.origin,this.position+1,this.c,this.U,this.a);a.o=this.o;return a};function qa(a,b,c){null==c&&(c=b.position);return a.name==b.name&&a.U==b.U&&a.position==c&&a.origin==b.origin}function z(a){return a.c[a.position]}function ra(a){return a.c[a.position]instanceof A||a.c[a.position]instanceof B}g.matches=function(a){var b=this.c[this.position];return b instanceof A&&b.matches(a)};g.V=function(a){var b=this.c[this.position];return b instanceof C&&a.includes(b.B)};
function sa(a){return a.position>=a.c.length}function E(a,b,c,d,e){a.source=new ta(b,c,d,e)}g.display=function(a){var b=this,c="("+this.index+")"+" ".repeat(void 0===a?0:a);c+=this.name+"\u2192";this.c.forEach(function(a,e){c+=(e==b.position?"\u2022":"")+a.display()+(e<b.c.length-1?",":"")});this.position>=this.c.length&&(c+="\u2022");return c};
g.g=function(a){var b=a.ownerDocument.createElement("tr");0==this.origin&&sa(this)&&b.setAttribute("class","finished");a.append(b);var c=a.ownerDocument.createElement("td");c.append(new Text(""+this.index));b.append(c);c=a.ownerDocument.createElement("td");c.append(new Text(this.U));b.append(c);c=a.ownerDocument.createElement("td");c.append(new Text(""+this.o));b.append(c);c=a.ownerDocument.createElement("td");c.append(new Text(this.display()));b.append(c);c=a.ownerDocument.createElement("td");c.append(new Text(this.origin));
b.append(c);c=a.ownerDocument.createElement("td");c.setAttribute("class","description");this.source?c.append(new Text(this.source.display())):c.append(new Text(this.a));b.append(c);c=a.ownerDocument.createElement("td");var d=a.ownerDocument.createElement("pre");d.setAttribute("class","description sppf");this.left&&d.append(new Text(this.left.display()));c.append(d);b.append(c);c=a.ownerDocument.createElement("td");d=a.ownerDocument.createElement("pre");d.setAttribute("class","description sppf");this.right&&
d.append(new Text(this.right.display()));c.append(d);b.append(c);return b};
g.J=function(a,b,c,d,e,f){function m(d,m){return d?d.J(a,b,c,m,e,f):[]}function l(a){for(var b=q([].concat(r(a))),c=b.next();!c.done;c=b.next())c=c.value.codePointAt(0),(32>c&&![9,10,13].includes(c)||55295<c&&57344>c||65533<c&&65536>c||1114111<c)&&F("Character codepoint "+c+" in '"+a+"' is not a valid XML character","D04")}var h=this.o,n=this.c[this.position-1]?this.c[this.position-1].mark:null,k=m(this.left,n),t=m(this.right,n);if(sa(this)){h=this.name;d||(d=b.get(h).mark);n=null;f&&!b.get(h).H&&
(n=d,d="^");d||(d="^");switch(d){case "^":(new RegExp(/\w(\w|-)*/,"u")).test(h)||F("'"+h+"' is not a valid name for an XML element","D03");var x=a.createElement(h);n&&x.setAttributeNS("http://invisiblexml.org/NS","ixml:mark",n);break;case "@":"xmlns"==h&&F("'xmlns' is not a valid name for an attribute","D07");x=a.createAttribute(h);var G="";k.forEach(function(a){return G+=a.textContent});t.forEach(function(a){return G+=a.textContent});x.value=G;break;case "+":h=this.c[this.position-1].value,l(h),
x=new Text(h)}if(k instanceof H){var p=new H;if("-"==d){d=q(k.c);for(h=d.next();!h.done;h=d.next())if(h=h.value,t instanceof H){n=q(t.c);for(var D=n.next();!D.done;D=n.next())p.add(h.concat(D.value))}else p.add(h.concat(I(t)));return p}k.c.forEach(function(a){var b=x.cloneNode();if(b instanceof Element)if(t instanceof H){var c=q(t.c);for(b=c.next();!b.done;b=c.next()){var d=b.value;b=x.cloneNode();L(a,b,!0);L(d,b,!0);p.add([b])}}else L(a,b,!0),L(t,b,!0),p.add([b]);else p.add(a.concat([b],I(t)))});
return p}if(t instanceof H){p=new H;if("-"==d)return t.c.forEach(function(a){return p.add(I(k).concat(a))}),p;t.c.forEach(function(a){var b=x.cloneNode();if(b instanceof Element){var c=[];a.forEach(function(a,b){Array.isArray(a)&&c.push(b)});var d=c.length;if(0<d)for(var e={O:0};e.O<d;e={O:e.O},e.O++)b=x.cloneNode(),L(k,b,!0),a.forEach(function(a){return function(d,e){Array.isArray(d)&&c[a.O]!=e||L(d,b,!0)}}(e)),p.add([b]);else L(k,b,!0),L(a,b,!0),p.add([b])}else p.add(I(k).concat([b],a))});return p}switch(d){case "^":return L(k,
x),L(t,x),[x];case "-":return k.concat(t);default:return[x]}}else{var J=[];ra(this)&&(d=z(this)?z(this).mark?z(this).mark:"^":"-",z(this)instanceof B?(d=z(this).value,l(d),f?(h=a.createElementNS("http://invisiblexml.org/NS","ixml:insertion"),h.setAttribute("string",d),J.push(h)):J.push(new Text(d))):"^"==d&&J.push(new Text(c[h])));if(t instanceof H)return p=new H,t.c.forEach(function(a){return p.add(I(k).concat(J,a))}),p;if(k instanceof H)return p=new H,k.c.forEach(function(a){return p.add(a.concat(I(t),
J))}),p;d=k.concat(t);if(J[0]instanceof Text&&d.at(-1)instanceof Text)d.at(-1).textContent+=J[0].textContent;else return d.concat(J);return d}};function ua(a,b,c){this.left=a;this.right=b;this.next=c}ua.prototype.display=function(a){a=void 0===a?0:a;var b=" ".repeat(a);b+="DER:";this.left&&(b+=this.left.display(),b+="\n");this.right&&(b+=this.right.display(a+4),b+="\n");this.next&&(b+=" ".repeat(a)+"|OR|"+this.next.display(a+4));return b};
ua.prototype.J=function(a,b,c,d,e,f){d=this.left.J(a,b,c,null,e,f);var m=this.right.J(a,b,c,null,e,f);if(this.next){var l=new H;l.add(I(d).concat(I(m)));if(e)return l;a=this.next.J(a,b,c,null,!1,f);a instanceof H?a.c.forEach(function(a){return l.add(a)}):l.add(a);return l}return m instanceof H?m:d instanceof H?d:d.concat(m)};function I(a){return a instanceof H?a.c:a}function H(){this.c=[]}H.prototype.add=function(a){this.c.push(a)};
function L(a,b,c){c=void 0===c?!1:c;Array.isArray(a)?a.forEach(function(a){return va(a,b,c)}):va(a,b,c)}function va(a,b,c){c=(void 0===c?0:c)?a.cloneNode(!0):a;c instanceof Attr?(b.hasAttribute(a.name)&&F("Attempt to overwrite an existing attribute @"+c.name+" on element "+b.localName,"D02"),b.setAttributeNode(c)):c instanceof Text?(a=b.lastChild,a instanceof Text?a.textContent+=c.textContent:0<c.textContent.length&&b.append(c)):b.append(c)}
function wa(a,b,c){if(b||c)if(a.left||a.right)if(a.right)qa(a.left,b)&&qa(a.right,c)||(a.left=new ua(b,c,new ua(a.left,a.right,null)),a.right=null);else a:{for(var d=a.left;d;){if(qa(d.left,b)&&qa(d.right,c))break a;d=d.next}a.left=new ua(b,c,a.left)}else a.left=b,a.right=c}function ta(a,b,c,d){this.type=a;this.a=b;this.b=c;this.f=d}
ta.prototype.display=function(){var a=this.type+" from ";null!=this.a&&(a+="("+this.a+")");null!=this.b&&(null!=this.a&&(a+=" and "),a+="S("+this.b+")("+this.f+") ");return a};function xa(a,b,c){this.A=[];this.b=a;this.w=b;this.j=c;this.G=c.G;this.f=new Map;this.a=[]}xa.prototype.add=function(a){this.A.push(a);a.index=this.A.length};function ya(a,b){return a.A.some(function(a){return qa(a,b,a.position+1)})}function za(a,b){return a.A.some(function(a){return qa(a,b)})}
function Aa(a,b){return a.A.filter(function(a){return qa(a,b)})[0]}function Ba(a,b,c){return a.A.filter(function(a){return a.name==b&&a.ended&&a.origin==c})}xa.prototype.K=function(){return new xa(this.b,this.w+1,this.j)};function Fa(a,b){var c=a.G.get(b).definition.c.map(function(a,c){return new pa(b,0,0,a.c,c,"start rule")});c.forEach(function(b){return a.add(b)});Ga(a,b,0);c.forEach(function(b){return a.a.push(b)})}
function Ga(a,b,c){if(a.f.has(b))a.f.get(b).add(c);else{var d=new Set;d.add(c);a.f.set(b,d)}}function Ha(a,b,c){return a.f.has(b)?a.f.get(b).has(c):!1}function Ia(a){if(0==a.a.length)return!1;var b=a.a.shift();sa(b)?Ja(a,b,a.w):(b.c[b.position]instanceof C||b.c[b.position]instanceof M||b.c[b.position]instanceof B||"+"==b.c[b.position].mark)&&Ka(a,b,a.w);return!0}function La(a,b){var c=[];a=q(a.A);for(var d=a.next();!d.done;d=a.next())d=d.value,d.name==b&&sa(d)&&0==d.origin&&c.push(d);return c}
function Ma(a){return a.A.filter(function(a){return ra(a)})}
function Ka(a,b,c){var d=z(b);if(d instanceof M||d instanceof B||"+"==d.mark){var e=b.K();e.o=b.o;E(e,"predict",b.index,null,null);if(sa(e)||"+"==d.mark||d instanceof B)E(e,"predict/complete",b.index,null,null),wa(e,b,null);za(a,e)||(a.add(e),a.a.push(e))}else if(d instanceof C){var f=d.B;Ha(a,f,b.origin)?f==b.name&&c==b.origin?F("Infinite ambiguity with production: "+b.name):(d=Ba(a,f,b.origin),0==d.length&&(d=Ba(a,f,c).filter(function(a){return a.c[a.position-1]instanceof B})),d.forEach(function(c){e=
b.K();e.o=b.o;E(e,"predict/complete",b.index,c.origin,c.index);wa(e,b,c);a.add(e);a.a.push(e)})):(Ga(a,f,b.origin),a.G.get(f).definition.c.forEach(function(d,l){e=new pa(f,c,0,d.c,l,"predict from ("+b.index+")");e.o=b.o;E(e,"predict",b.index,null,null);l=z(e);if(sa(e)||l instanceof N)e=e.K(),e.o=b.o,E(e,"predict/complete",b.index,null,null),l instanceof N||d instanceof O||d instanceof C||wa(e,b,null);za(a,e)?(e.index=-Aa(a,b).index,E(e,"Known state predict",-b.index,null,null)):a.add(e);a.a.push(e)}))}}
function Ja(a,b,c){var d=b.name;a.j.R[b.origin].A.forEach(function(e){if(e.V([d],c)&&!ya(a,e)){var f=e.K();f.o=b.o;E(f,"complete",b.index,b.origin,e.index);za(a,f)?wa(Aa(a,f),e,b):(a.add(f),wa(f,e,b));a.a.push(f)}})}function Na(a,b,c,d){var e=!1;d.A.forEach(function(f,m){if(f.matches(c)){e=!0;var l=f.K();f.o=b;l.o=b;E(l,"scanned",null,d.w,m+1);wa(l,f,null);a.add(l);a.a.push(l)}});return e}xa.prototype.display=function(){var a=document.implementation.createDocument("","",null);this.g(a);return a};
xa.prototype.g=function(a){var b=this,c=a.createElement("table");a.append(c);var d=a.createElement("thead");c.append(d);var e=a.createElement("tr");d.append(e);var f=a.createElement("th");f.setAttribute("colspan","5");f.setAttribute("class","stateSpace");e.append(f);e="S("+this.w+"): "+(40<this.b.length?"":this.b.slice(0,this.w).join("")+"\u2022"+this.b.slice(this.w).join(""));if(0<this.w){var m=this.b[this.w-1].codePointAt(0);e+=" char '"+this.b[this.w-1]+"' (codepoint "+m+",#"+(new Number(m)).toString(16)+
")"}f.append(new Text(e));e=a.createElement("tr");d.append(e);d=a.createElement("td");d.setAttribute("colspan","3");e.append(d);var l=a.createElement("tbody");c.append(l);this.A.forEach(function(a){return a.g(l,b.w)})};
function Oa(a){var b=this;this.version=1;this.c=[];this.a=[];this.start=null;this.G=new Map;a.forEach(function(a){a instanceof P?Pa(b,a):(b.c.push(a),a instanceof Qa&&a.version&&(b.version=a.version.version))});this.R=[];this.b=null;this.f=[];this.j={};this.compiled=!1;this.parseTime=this.compileTime=null}function Pa(a,b){a.G.has(b.name)&&F("Adding productions for an already-defined non-terminal: "+b.name,"S03");a.a.push(b);a.c.push(b);a.G.set(b.name,b)}g=Oa.prototype;
g.V=function(a,b){var c=[];a.s(function(a){a.B&&!b.has(a.B)&&(b.add(a.B),c.push(a.B))});return c};
function Ra(a){a.start=a.a[0].name;var b=new Set;a.a.forEach(function(a){return b.add(a.name)});for(var c=new Set,d=q(a.a),e=d.next();!e.done;e=d.next())a.V(e.value,c);c=new Set([].concat(r(c)).filter(function(a){return!b.has(a)}));0<c.size&&F("No production rules for non-terminals: "+[].concat(r(c)).join(","),"S02");if(a.j.fa){var f=Sa(a);a=new Set([].concat(r(b)).filter(function(a){return!f.has(a)}));0<a.size&&F("Unreachable production rules for non-terminals: "+[].concat(r(a)).join(","),"S002")}}
function Sa(a){var b=new Set,c=a.a[0];b.add(c.name);c=[c.name];for(var d={};0<c.length;)d.P=[],c.forEach(function(c){return function(d){d=a.G.get(d);c.P=c.P.concat(a.V(d,b))}}(d)),c=d.P,d={P:d.P};return b}g.compile=function(){var a=performance.now();Ra(this);Ta(this);Ya(this);Za(this);this.compileTime=performance.now()-a;this.compiled=!0};
function Ta(a){for(var b=[],c=q(a.a),d=c.next();!d.done;d=c.next())d.value.s(function(a,c){c&&a instanceof N&&(c.replace(a,new C("Alt"+b.length,null)),b.push(a))});b.forEach(function(b,c){b=new P("Alt"+c,b,"-");b.H=!0;Pa(a,b)})}
function Ya(a){for(var b=[],c=q(a.a),d=c.next();!d.done;d=c.next())d.value.s(function(a,c){c&&a instanceof Q&&"+"!=a.mark&&1<a.value.length&&(c.replace(a,new C("Quo"+b.length,null)),b.push(a))});b.forEach(function(b,c){var d=new N,e=new O;d.add(e);for(var f=q(b.value),n=f.next();!n.done;n=f.next())e.add(new Q(n.value,b.mark));Pa(a,new P("Quo"+c,d,"-"))})}
function Za(a){for(var b=[],c=q(a.a),d=c.next();!d.done;d=c.next())d.value.s(function(a,c){a instanceof R&&(c.replace(a,$a(a,b.length)),b.push(a))});0<b.length&&b.forEach(function(b,c){b.F(c).forEach(function(b){return Pa(a,b)})})}function ab(a,b){a.b=b;a.f=b.split(/\n/)}function bb(a,b){for(var c=1,d=1,e=0;e<b;e++)d++,/\n/.test(a.b[e])&&(c++,d=1);return{line:c,L:d}}
g.parse=function(a,b){function c(a){return b instanceof SaxonJS.XdmMap?(a=SaxonJS.atom(a),b.containsKey(a)?b.get(a)[0].value:!1):b.hasOwn(a)?b[a]:!1}function d(a){a.setAttributeNS("http://invisiblexml.org/NS","ixml:state","ambiguous")}function e(a){var b=a[0];b instanceof Attr&&F("An attribute node may not be the final parse result @"+b.name,"D05");b instanceof Text&&F("A text node may not be the final parse result: '"+b.textContent+"'","D06");1<a.length&&F("Multiple nodes may not be the final parse result:"+
a.map(function(a){a:{switch(a.nodeType){case Node.ELEMENT_NODE:a="<"+a.tagName+"/>";break a;case Node.ATTRIBUTE_NODE:a="@"+a.name;break a;case Node.TEXT_NODE:a="'"+a.textContent+"'";break a}a=void 0}return a}),"D06")}b=void 0===b?{}:b;this.compiled||F("An IXML grammar must be compiled before being used to parse");b.value&&(b=b.value);var f="1.0"!=this.version,m=performance.now(),l=[].concat(r(a));ab(this,a);this.R=[];var h=0,n=new xa(l,h++,this);this.R.push(n);var k=null;Fa(n,this.start);var t=!0;
try{for(;t;)t=Ia(n)}catch(K){k=K.message}var x=n;if(!k)for(var G={},p=0;p<l.length;G={S:G.S},p++){n=new xa(l,h++,this);this.R.push(n);if(!Na(n,p,l[p],x)){h=bb(this,p);k="Failure at line "+h.line+" column "+h.L+"\nGiven '"+a[p]+"' (codepoint "+a[p].codePointAt(0)+")\nExpecting one of: ";G.S=new Set;Ma(x).forEach(function(a){return function(b){b=z(b);b instanceof B||a.S.add(b.display())}}(G));k+=[].concat(r(G.S)).join(", ");k+="\n"+this.f[h.line-1]+"\n";k+=" ".repeat(h.L-1)+"^\n";break}t=!0;try{for(;t;)t=
Ia(n)}catch(K){k=K.message;break}x=n}a=performance.now()-m;n=La(n,this.start);G=c("justOne");p=c("suppressMarks");h=[];if(0<n.length){x=1<n.length;var D=document.implementation.createDocument("","",null);D=document.implementation.createDocument("","",null);try{for(var J=q(n),Ca=J.next();!Ca.done;Ca=J.next()){var ha=Ca.value.J(D,this.G,l,null,G,p);if(ha instanceof H)for(var Ua=q(ha.c),Da=Ua.next();!Da.done;Da=Ua.next()){var Ea=Da.value;d(Ea[0]);var Va=document.implementation.createDocument("","",null);
h.push(Va);e(Ea);Va.append(Ea[0].cloneNode(!0));if(G)break}else{x&&d(ha[0]);f&&ha[0].setAttributeNS("http://invisiblexml.org/NS","ixml:state","version-mismatch");var Wa=document.implementation.createDocument("","",null);h.push(Wa);e(ha);Wa.append(ha[0].cloneNode(!0))}if(G)break}}catch(K){if(!K.code)throw K;k={code:"string"==typeof K.code?K.code.substring(K.code.indexOf("}")+1):K.code,message:K.message};n=[]}D=h[0]}else if(!k){k="\nEnd of input reached before parse completed.\nExpecting one of:\n    ";
var Xa=new Set;Ma(x).forEach(function(a){a=z(a);a instanceof B||Xa.add(a.display())});k+=[].concat(r(Xa)).join(", ")+"\n"}f={parsed:0<n.length,tree:D,allTrees:h,states:this.R,parseTime:a,treeTime:performance.now()-m-a,compileTime:this.compileTime};k&&(f.failed=k,m=D=document.implementation.createDocument("","",null),f.tree=m,D=m.createElement("ixml"),m.append(D),D.setAttributeNS("http://invisiblexml.org/NS","ixml:state","failed"),k.code?(f.failed=k.message,f["error-code"]=k.code,D.setAttributeNS("http://invisiblexml.org/NS",
"ixml:error-code",k.code),D.append(new Text("\n"+k.message))):D.append(new Text("\n"+k)));return f};g.flat=function(){for(var a="",b=this.c.reduce(function(a,b){return b instanceof P&&b.name.length>a?b.name.length:a},0),c=q(this.c),d=c.next();!d.done;d=c.next())a+=d.value.flat(b);return a};g.display=function(a){if(a)return this.flat();a=document.implementation.createDocument("","",null);this.g(a);return a};
g.g=function(a){var b=a.createElement("ixml");this.start&&b.setAttribute("startTerm",this.start);a.append(b);a=q(this.c);for(var c=a.next();!c.done;c=a.next())c.value.g(b)};var eb={compile:function(a){a instanceof Document?(a=cb(a),a.compile()):(a=(new db).parse(a),a.compile());return a},parse:function(a){return a instanceof Document?cb(a):(new db).parse(a)}};window.jwiXML=function(){return eb};function S(a){var b;a.hasAttribute("mark")&&(b=a.getAttribute("mark"));a.hasAttribute("tmark")&&(b=a.getAttribute("tmark"));switch(a.nodeName){case "prolog":return new Qa(new fb(a.firstElementChild.textContent));case "version":return new fb(a.textContent);case "rule":return new P(a.getAttribute("name"),gb(a.children),b);case "alts":return gb(a.children);case "alt":b=new O;a=q(a.children);for(var c=a.next();!c.done;c=a.next())b.add(S(c.value));return b;case "comment":return hb(a);case "literal":return a.hasAttribute("string")?
a=new Q(a.getAttribute("string"),b):a.hasAttribute("hex")?(a=a.getAttribute("hex"),/^[A-Fa-f0-9]+$/.test(a)||F("literal/@hex in the XML syntax must be a valid hexadecimal number. Provided:'"+a+"'","S06"),a=new ib(a,b)):(F("<literal/> in the XML syntax must have one of @string|@hex"),a=void 0),a;case "insertion":return a.hasAttribute("string")?a=new B(a.getAttribute("string"),!1):a.hasAttribute("hex")?a=new B(a.getAttribute("hex"),!0):(F("<insertion/> in the XML syntax must have one of @string|@hex"),
a=void 0),a;case "inclusion":return jb(a,!1,b);case "exclusion":return jb(a,!0,b);case "member":return kb(a);case "nonterminal":return new C(a.getAttribute("name"),b);case "option":return new lb(S(a.firstElementChild),b);case "repeat0":return b=new mb(S(a.firstElementChild),b),2==a.children.length&&nb(b,S(a.children[1])),b;case "repeat1":return b=new ob(S(a.firstElementChild),b),2==a.children.length&&nb(b,S(a.children[1])),b;case "sep":return new pb(S(a.firstElementChild),b);default:F("Unknown element in ixml tree:"+
a.nodeName)}}function Qa(a){this.version=a}Qa.prototype.g=function(a){var b=a.ownerDocument.createElement("prolog");this.version&&this.version.g(b);a.append(b)};Qa.prototype.flat=function(){var a="";this.version&&(a+=this.version.flat());return a};function fb(a){this.version=a;this.a=[]}fb.prototype.g=function(a){var b=a.ownerDocument.createElement("version");b.setAttribute("string",this.version);a.append(b);this.a.forEach(function(a){return a.g(b)})};
fb.prototype.flat=function(){return'ixml version "'+this.version+'".'};function T(a){this.mark=a;this.a=[];this.H=!1}T.prototype.flat=function(a){return this.mark?this.mark:void 0===a?"":a};T.prototype.g=function(a){this.mark&&a.setAttribute("mark",this.mark)};function qb(a){var b="";a.a.forEach(function(a){return b+=a.flat()});return b}function P(a,b,c){T.call(this,c);this.name=a;this.definition=b;this.definition.m="| ";this.definition.aa=!1;this.a=[]}u(P,T);P.prototype.D=function(a){this.a.push(a)};
P.prototype.g=function(a){var b=a.ownerDocument.createElement("rule");T.prototype.g.call(this,b);b.setAttribute("name",this.name);this.H&&b.setAttributeNS("http://invisiblexml.org/NS","ixml:artifact","true");this.a.forEach(function(a){return a.g(b)});a.append(b);this.definition.g(b,!0)};P.prototype.s=function(a){this.definition.s(a)};
P.prototype.flat=function(a){var b="\n"+" ".repeat(a-this.name.length)+T.prototype.flat.call(this," ")+this.name+": ";this.a.forEach(function(a){return b+=a.flat()});return b+this.definition.flat()+". "};function U(a){this.c=a}function hb(a){var b=[];a=q(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c instanceof Element?b.push(hb(c)):b.push(c.textContent);return new U(b)}
U.prototype.g=function(a){var b=a.ownerDocument.createElement("comment");this.c.forEach(function(a){a instanceof U?a.g(b):b.append(new Text(a))});a.append(b)};U.prototype.flat=function(){var a="{";this.c.forEach(function(b){a=b instanceof U?a+b.flat():a+b});return a+"}"};function rb(a){T.call(this,a);this.m=this.f=null;this.c=[];this.b=[];this.aa=!1}u(rb,T);g=rb.prototype;g.add=function(a){this.c.push(a);this.b.push(a)};g.D=function(a){this.b.push(a)};
g.replace=function(a,b){var c=this.c.indexOf(a);this.c[c]=b;c=this.b.indexOf(a);this.b[c]=b};g.s=function(a,b){var c=this;a(this,b);this.c.forEach(function(b){return b.s(a,c)})};g.display=function(){return"container"};g.g=function(a,b){var c=a;b||(c=a.ownerDocument.createElement(this.f),a.append(c));a=q(this.b);for(b=a.next();!b.done;b=a.next())b.value.g(c,!1)};
g.flat=function(){var a=this;if(1==this.c.length)return this.c[0].flat();var b="";this.b.forEach(function(c,d){b+=c.flat();!(c instanceof U)&&d<a.b.length-1&&(b+=a.m)});return this.aa?"("+b+")":b};function N(){rb.call(this,null);this.f="alts";this.m="|";this.aa=!0}u(N,rb);function gb(a){var b=new N;a=q(a);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=new O;b.add(c);d=q(d.children);for(var e=d.next();!e.done;e=d.next())c.add(S(e.value))}return b}N.prototype.display=function(){return"()"};
function O(){rb.call(this,null);this.f="alt";this.m=","}u(O,rb);function M(){N.call(this);this.add(new O)}u(M,N);M.prototype.g=function(a){N.prototype.g.call(this,a,!0)};function R(a,b){T.call(this,b);this.l=a;this.m=null;this.b="";this.a=[];this.j=this.f=null}u(R,T);function nb(a,b){a.m=b;a.b+="-sep"}g=R.prototype;g.replace=function(a,b){this.l===a&&(this.l=b)};g.F=function(){return[]};g.D=function(a){this.a.push(a)};
function V(a,b){if(a.f)return a.f+b;a.f=a.l instanceof C?a.l.B:"Mult";return a.f+b}function $a(a,b){return new C(V(a,b)+a.b,null)}g.s=function(a,b){a(this,b);this.l.s(a,this);this.m&&this.m.s(a,this)};g.g=function(a){var b=a;b=a.ownerDocument.createElement(this.j);a.append(b);this.l.g(b);this.a.forEach(function(a){return a.g(b)});this.m&&this.m.g(b)};
g.flat=function(a){var b=this.l.flat()+a;this.m?(b+=a,this.a.forEach(function(a){return b+=a.flat()}),b+=this.m.flat()):this.a.forEach(function(a){return b+=a.flat()});return b};function sb(a,b){var c=new N;if(a.l instanceof N)a.l.c.forEach(function(a){d=new O;a.c.forEach(function(a){return d.add(a)});d.add(new C(b,null));c.add(d)});else{var d=new O;d.add(a.l);d.add(new C(b,null));c.add(d)}return c}function lb(a,b){R.call(this,a,b);this.j="option";this.b="-option"}u(lb,R);
lb.prototype.F=function(a,b){a=(b?b:V(this,a))+this.b;var c=new N;this.l instanceof N?this.l.c.forEach(function(a){return c.add(a)}):(b=new O,b.add(this.l),c.add(b));b=new O;b.add(new M);c.add(b);a=new P(a,c,"-");a.H=!0;return[a]};lb.prototype.flat=function(){return R.prototype.flat.call(this,"?")};function mb(a,b){R.call(this,a,b);this.j="repeat0";this.b="-star"}u(mb,R);
mb.prototype.F=function(a){if(this.m)return tb(this,a);a=V(this,a)+this.b;var b=sb(this,a),c=new O;c.add(new M);b.add(c);a=new P(a,b,"-");a.H=!0;return[a]};function tb(a,b){V(a,b);var c=V(a,b)+"-plus";V(a,b);var d=new ob(a.l,null);d.m=a.m;c=new lb(new C(c,null),null);c.b="-star-sep";var e=c.F(b,V(a,b));d.F(b).forEach(function(a){return e.push(a)});return e}mb.prototype.flat=function(){return R.prototype.flat.call(this,"*")};function ob(a,b){R.call(this,a,b);this.j="repeat1";this.b="-plus"}u(ob,R);
ob.prototype.F=function(a){if(this.m){var b=V(this,a)+this.b,c=V(this,a)+"-star";c=sb(this,c);var d=new N,e=new O;e.add(this.m.l);e.add(this.l);d.add(e);d=new mb(d,null);d.f=this.f;a=d.F(a);b=new P(b,c,"-");b.H=!0;a.unshift(b);return a}b=V(this,a)+this.b;c=V(this,a)+"-star";c=sb(this,c);a=(new mb(this.l,null)).F(a);b=new P(b,c,"-");b.H=!0;a.unshift(b);return a};ob.prototype.flat=function(){return R.prototype.flat.call(this,"+")};function pb(a,b){R.call(this,a,b);this.j="sep";this.b="-sep"}u(pb,R);
pb.prototype.flat=function(){return this.l.flat()};function A(a){T.call(this,a);this.a=[]}u(A,T);A.prototype.g=function(a){this.mark&&a.setAttribute("tmark",this.mark);this.a.forEach(function(b){return b.g(a)})};A.prototype.D=function(a){this.a.push(a)};A.prototype.s=function(a,b){a(this,b)};A.prototype.matches=function(){return!1};function C(a,b){T.call(this,b);this.B=a;this.c=[];this.a=[]}u(C,T);g=C.prototype;g.s=function(a,b){a(this,b)};g.display=function(){return T.prototype.flat.call(this)+this.B};
g.g=function(a){var b=a.ownerDocument.createElement("nonterminal");T.prototype.g.call(this,b);b.setAttribute("name",this.B);a.append(b);this.a.forEach(function(a){return a.g(b)})};g.flat=function(){return T.prototype.flat.call(this)+this.B+qb(this)};g.D=function(a){this.a.push(a)};function B(a,b){this.a=b;this.text=a;this.value=b?String.fromCodePoint(parseInt(a,16)):a}B.prototype.s=function(a,b){a(this,b)};
B.prototype.display=function(){return"+"+(this.a?"#"+this.text:'"'+this.value.replaceAll('"','""')+'"')};B.prototype.g=function(a){var b=a.ownerDocument.createElement("insertion");b.setAttribute(this.a?"hex":"string",this.text);a.append(b)};B.prototype.flat=function(){return this.display()};function Q(a,b){A.call(this,b);this.value=a}u(Q,A);Q.prototype.matches=function(a){return this.value==a};Q.prototype.display=function(){return A.prototype.flat.call(this)+'"'+this.value.replaceAll('"','""')+'"'};
Q.prototype.g=function(a){var b=a.ownerDocument.createElement("literal");A.prototype.g.call(this,b);b.setAttribute("string",this.value);a.append(b)};Q.prototype.flat=function(){return A.prototype.flat.call(this)+'"'+this.value.replaceAll('"','""')+'"'+qb(this)};function ib(a,b){A.call(this,b);this.text=a;this.b=parseInt(a,16);try{this.value=String.fromCodePoint(this.b)}catch(c){F("encoded character is not a valid Unicode point. Provided:'"+a+"'","S06")}}u(ib,A);
ib.prototype.matches=function(a){return this.b==a.codePointAt(0)};ib.prototype.g=function(a){var b=a.ownerDocument.createElement("literal");A.prototype.g.call(this,b);b.setAttribute("hex",this.text);a.append(b)};ib.prototype.display=function(){return A.prototype.flat.call(this)+"#"+this.text};ib.prototype.flat=function(){return A.prototype.flat.call(this)+"#"+this.text+qb(this)};function W(a){A.call(this,a);this.c=[];this.b=[];this.f="charset"}u(W,A);
function jb(a,b,c){b=b?new ub(c):new vb(c);a=q(a.children);for(c=a.next();!c.done;c=a.next())b.add(S(c.value));return b}g=W.prototype;g.add=function(a){this.c.push(a);this.b.push(a)};g.D=function(a){this.b.push(a)};g.s=function(a){this.c.forEach(function(b){return b.s(a)})};g.g=function(a){var b=a.ownerDocument.createElement(this.f);A.prototype.g.call(this,b);a.append(b);a=q(this.b);for(var c=a.next();!c.done;c=a.next())c.value.g(b,!1)};
g.matches=function(a){for(var b=q(this.c),c=b.next();!c.done;c=b.next())if(c.value.matches(a))return!0;return!1};g.display=function(){return"["+this.c.map(function(a){return a.display()}).join(";")+"]"};g.flat=function(){var a=this,b=A.prototype.flat.call(this)+("exclusion"==this.f?"~":"")+"[";this.b.forEach(function(c,d){b+=c.flat();!(c instanceof U)&&d<a.b.length-1&&(b+=";")});return b+="]"+qb(this)};function vb(a){W.call(this,a);this.f="inclusion"}u(vb,W);
function ub(a){W.call(this,a);this.f="exclusion"}u(ub,W);ub.prototype.matches=function(a){return!W.prototype.matches.call(this,a)};ub.prototype.display=function(){return"~"+W.prototype.display.call(this)};function X(){this.b=[];this.a=this.value=null}
function kb(a){if(a.hasAttribute("string"))return new Y(a.getAttribute("string"));if(a.hasAttribute("hex"))return new wb(a.getAttribute("hex"));if(a.hasAttribute("code"))return new xb(a.getAttribute("code"));if(a.hasAttribute("from")){var b=a.getAttribute("from");a=a.getAttribute("to");return new yb("#"==b[0]?new wb(b.substring(1)):new Y(b),"#"==a[0]?new wb(a.substring(1)):new Y(a))}F("<member/> in XML syntax must have one of @string|@hex|@code|(@from,@to)")}g=X.prototype;
g.s=function(a,b){a(this,b)};g.display=function(){return this.value};g.D=function(a){this.b.push(a)};g.g=function(a){var b=a.ownerDocument.createElement("member");b.setAttribute(this.a,this.value);a.append(b);this.b.forEach(function(a){return a.g(b)})};g.flat=function(){return this.b.map(function(a){return a.flat()}).join("")};function Y(a){X.call(this);this.value=a;this.a="string"}u(Y,X);Y.prototype.X=function(){return this.value.codePointAt(0)};Y.prototype.matches=function(a){return this.value.includes(a)};
Y.prototype.flat=function(){return'"'+this.value+'"'+X.prototype.flat.call(this)};Y.prototype.Y=function(){return this.value};function wb(a){X.call(this);this.value=a;this.f=parseInt(a,16);this.a="hex"}u(wb,X);g=wb.prototype;g.X=function(){return this.f};g.matches=function(a){return this.f==a.codePointAt(0)};g.display=function(){return this.flat()};g.flat=function(){return"#"+this.value+"|"+String.fromCodePoint(this.f)+"|"+X.prototype.flat.call(this)};g.Y=function(){return"#"+this.value};
function yb(a,b){X.call(this);(a instanceof Y&&1!=a.value.length||b instanceof Y&&1!=b.value.length)&&F("The start and end of a charset range must each be exactly one character","S09");this.j=a;this.N=b;this.f=a.X();this.I=b.X();this.I<=this.f&&F("The start character of a charset range must have a code point value less than that of the end","S09")}u(yb,X);yb.prototype.matches=function(a){a=a.codePointAt(0);return this.f<=a&&a<=this.I};yb.prototype.display=function(){return this.flat()};
yb.prototype.g=function(a){var b=a.ownerDocument.createElement("member");b.setAttribute("from",this.j.Y());b.setAttribute("to",this.N.Y());this.b.forEach(function(a){return a.g(b)});a.append(b)};yb.prototype.flat=function(){return this.j.flat()+"-"+this.N.flat()+X.prototype.flat.call(this)};function xb(a){X.call(this);this.value=a;try{this.f=new RegExp("\\p{"+a+"}","u")}catch(b){F("'"+a+"' is not a valid Unicode character class","S10")}this.a="code"}u(xb,X);xb.prototype.matches=function(a){return this.f.test(a)};
xb.prototype.flat=function(){return this.value+X.prototype.flat.call(this)};function zb(){this.j="";this.N=this.a=0;this.f=this.b=1;this.I=null;this.line="";this.ba=null;this.ca=[]}g=zb.prototype;g.$=function(){this.ca.push({offset:this.a,line:this.b,L:this.f})};g.Z=function(){var a=this.ca.pop();this.a=a.offset;this.b=a.line;this.f=a.L};g.T=function(a){for(;a--;)this.next()};g.h=function(){return this.j.charAt(this.a)};g.M=function(){return this.a<this.N};
g.next=function(){this.a==this.N&&F("End of input");this.a+=1;this.I=this.j.charAt(this.a);this.line+=this.I;/\n/.test(this.I)&&(this.b++,this.f=0,this.line="");this.f++;return this.I};g.matches=function(a){return this.j.substring(this.a).match(a)};g.location=function(){return{line:this.b,L:this.f}};g.v=function(a,b){a!=this.h()&&this.i((void 0===b?"":b)+"Expecting character:'"+a+"', given:'"+this.h()+"' (codepoint "+this.h().codePointAt(0)+")","G000");this.next()};
g.W=function(a,b){b=void 0===b?"":b;a.includes(this.h())||(a=a.split("").map(function(a){return"'"+a+"'"}).join(","),this.i(b+"Expecting one of "+a+" - given:'"+this.h()+"' (codepoint "+this.h().codePointAt(0)+")","G000"));this.next()};g.i=function(a,b){b=void 0===b?"ABCD":b;var c=this.location();a+=".\nNear "+("line "+this.b+", column "+this.f)+".\n";a+=this.ba[c.line-1]+"\n";a+=" ".repeat(c.L-1)+"^\n";F(a,b)};
function F(a,b){var c=void 0===c?null:c;a=new SaxonJS.XError(a,"Q{http://invisiblexml.org/NS}"+(void 0===b?"ABCD":b));c&&(a.ga=c.line);throw a;}function db(){this.a=null}g=db.prototype;g.i=function(a,b){this.a.i(a,void 0===b?"G000":b)};g.M=function(){return this.a.M()};g.h=function(){return this.a.h()};g.next=function(){return this.a.next()};g.v=function(a,b){return this.a.v(a,b)};g.W=function(a,b){return this.a.W(a,b)};g.matches=function(a){return this.a.matches(a)};g.$=function(){this.a.$()};
g.Z=function(){this.a.Z()};g.T=function(a){this.a.T(a)};function Ab(a,b){for(var c="",d=a.h();d!=b;)c+=d,a.M()||a.i("Unterminated string "+b+"..."),d=a.next();return c}
g.parse=function(a){var b=performance.now(),c=new zb;this.a=c;c.j=a;c.N=a.length;c.ba=a.split(/\n/);a.startsWith("\n")&&c.b++;try{var d=Z(this);switch(this.h()){case "i":var e=Bb(this)}if(e){Z(this);var f=new Qa(e)}else f=null;f&&d.push(f);for(a=[];this.M();)a.push(Cb(this)),this.M()&&(a=a.concat(Db(this)));d=d.concat(a);d=d.concat(Z(this));var m=new Oa(d);m.parseTime=performance.now()-b;return m}catch(l){if(l instanceof SaxonJS.XError)throw l;this.i(l.message,l.code)}};
function cb(a){var b=performance.now();a instanceof Document&&"ixml"==a.firstChild.nodeName||F("An ixml grammar in XML format must be supplied as a document-node(element(ixml))");var c=[];a=q(a.firstChild.children);for(var d=a.next();!d.done;d=a.next())c.push(S(d.value));c=new Oa(c);c.parseTime=performance.now()-b;return c}
function Z(a,b){b=void 0===b?null:b;for(var c=[],d=a.h();/\s/.test(d);)d=a.next();"{"==d&&(c.push(Eb(a)),Z(a).forEach(function(a){return c.push(a)}));b&&c.forEach(function(a){return b.D(a)});return c}function Db(a){var b=void 0===b?null:b;var c=a.h();if(/\s|\{/.test(c))return Z(a,b);a.i("Must have whitespace, given: '"+c+"' codepoint("+c.codePointAt(0)+")","S01")}
function Eb(a){var b=[],c="";a.v("{");for(var d=a.h();"}"!=d;)"{"==d?(""!=c&&b.push(c),b.push(Eb(a)),c="",d=a.h()):(c+=d,a.M()||a.i("Unterminated comment"),d=a.next());""!=c&&b.push(c);a.v("}");return new U(b)}
function Bb(a){a.$();var b=a.matches(/ixml/);if(b&&(a.T(b[0].length),/\s|\{/.test(a.h()))){var c=Db(a);if(b=a.matches(/version/)){a.T(b[0].length);c=c.concat(Db(a));/'|"/.test(a.h())||a.i("Invalid version declaration","G000");b=Fb(a,a.h());c=c.concat(Z(a));a.v(".","Invalid version declaration. ");var d=new fb(b.value);c.forEach(function(a){return d.a.push(a)});return d}}a.Z();return null}
function Cb(a){var b=null,c=[],d=a.h();/@|-|\^/.test(d)&&(b=d,d=a.next(),Z(a).forEach(function(a){return c.push(a)}));d=Gb(a);Z(a).forEach(function(a){return c.push(a)});a.W(":=","Invalid rule syntax. ");Z(a).forEach(function(a){return c.push(a)});var e=Hb(a);a.v(".","Invalid rule syntax. ");var f=new P(d,e,b);c.forEach(function(a){return f.D(a)});return f}
function Gb(a){var b=a.h();(new RegExp(/\p{L}|_/,"u")).test(b)||a.i("'"+b+"' (codepoint "+b.codePointAt(0)+") is not a valid name character");var c=b;for(b=a.next();/\w|\-/.test(b);)c+=b,b=a.next();return c}function Hb(a){var b=new N,c=a.h(),d;/;|\|/.test(c)?d=new M:d=Ib(a);d&&b.add(d);for(c=a.h();/;|\|/.test(c);)a.next(),Z(a,b),c=a.h(),/;|\|/.test(c)?b.add(new M):(b.add(Ib(a)),Z(a,b),c=a.h());return b}
function Ib(a){var b=new O,c=Jb(a);c&&b.add(c);for(c=a.h();/,/.test(c);)a.next(),Z(a,b),(c=Jb(a))||a.i("Invalid start of term"),b.add(c),c=a.h();return b}
function Jb(a){var b=a.h(),c=null;/@|-|\^|\+/.test(b)&&(c=b,a.next(),Z(a),b=a.h());if("+"==c)return c=a.h(),"#"==c?(a=Kb(a),a=new B(a.text,!0)):(a=Fb(a,c),a=new B(a.value,!1)),a;switch(b){case "(":c&&a.i("No marker permitted on bracketed constructs (factor), given '"+c+"'","S006");a.v("(");Z(a);var d=Hb(a);a.v(")");Z(a);break;case ")":return null;case '"':d=Fb(a,b);break;case "'":d=Fb(a,b);break;case "#":d=Kb(a);break;case "[":d=Lb(a,!1);break;case "~":a.next();Z(a);d=Lb(a,!0);break;case ".":break;
default:d=Gb(a),d=new C(d,null),Z(a,d)}c&&(d instanceof A&&"@"==c&&a.i("The only permitted mark for a terminal is '-', '+' or '^', given '"+c+"'","S04"),"+"!=c||d instanceof A&&!(d instanceof W)||a.i("The insertion mark '+' is only permitted on quoted or encoded literals","S05"),d.mark=c);b=a.h();var e=!1;switch(b){case "*":d=new mb(d,c);e=!0;a.next();break;case "+":d=new ob(d,c);e=!0;a.next();break;case "?":d=new lb(d,c),a.next(),Z(a,d)}e&&(b==a.h()?(a.next(),Z(a,d),a=new pb(Jb(a),null),nb(d,a)):
Z(a,d));return d}function Fb(a,b){a.next();var c,d=Ab(a,b);for(c=a.next();c==b;)d+=b,a.next(),d+=Ab(a,b),c=a.next();0==d.length&&a.i("A literal string may not be empty","G00");d.includes("\n")&&a.i("A literal string may not contain a linebreak","S11");b=new Q(d,null);Z(a,b);return b}
function Kb(a){var b="";a.v("#");for(var c=a.h();/[0-9]|[A-F]|[a-f]/.test(c);)b+=c,c=a.next();""==b&&a.i("An encoded character must have one or more hexadecimal digits following the # character","S06");c=parseInt(b,16);var d=c%65536;1114111<c&&a.i("An encoded character must have a hexadecimal value within the Unicode point range","S07");(55296<c&&57343>=c||65534==d||65535==d)&&a.i("An encoded character must not denote a Unicode noncharacter or surrogate code point","S08");try{String.fromCodePoint(c)}catch(e){a.i("An encoded character must have a hexadecimal value within the Unicode point range",
"S0Z7")}b=new ib(b,null);Z(a,b);return b}function Lb(a,b){b=b?new ub(null):new vb(null);a.v("[");Z(a,b);var c=Mb(a);if(!c)return c=a.h(),/\]/.test(c)||a.i("No closing square bracket on charset. Provided:'"+c+"'","G00"),a.next(),b;Z(a,c);b.add(c);for(c=a.h();/;|\|/.test(c);)a.next(),Z(a,b),c=Mb(a),b.add(c),Z(a,c),c=a.h();/\]/.test(c)||a.i("No closing square bracket on charset. Provided:'"+c+"'","G00");a.next();Z(a,b);return b}
function Mb(a){var b=a.h();if(/[A-Z]/.test(b)){var c=a.h();b=a.next();/[a-z]/.test(b)&&(c+=b,b=a.next(),/[A-Za-z]/.test(b)&&a.i("A Unicode character category code must match [A-Z][a-z]?. Provided: '"+c+b+"'","S10"));/\s|;|\||\]/.test(b)||a.i("A Unicode character category code must match [A-Z][a-z]?. Provided: '"+c+b+"'","S10");c=new xb(c);Z(a,c);return c}c=Nb(a);Z(a,c);b=a.h();return"-"==b?(a.next(),Z(a),(b=Nb(a))||a.i("Missing 'to' character of a character range","G00"),new yb(c,b)):c}
function Nb(a){var b=a.h();if("#"==b){b="";a.v("#");for(var c=a.h();/[0-9]|[A-F]|[a-f]/.test(c);)b+=c,c=a.next();return new wb(b)}if('"'==b||"'"==b){b="";c=a.h();for(var d=a.next();d!=c;)b+=d,d=a.next();a.next();return new Y(b)}};
